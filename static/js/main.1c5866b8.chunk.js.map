{"version":3,"sources":["components/TopTracks.js","components/ArtistHeader.js","components/Image.js","components/Album.js","components/AlbumsSection.js","components/AlbumsSingles.js","components/Dropdown.js","components/AlbumOptions.js","components/Dot.js","components/Colors.js","components/ArtistBody.js","components/PlaylistPage.js","components/CurrentUserPage.js","components/SearchResults.js","App.js","serviceWorker.js","index.js"],"names":["TopTracks","props","state","isLoaded","data","error","errorCode","this","requestInfo","artistID","country","headers","handleErrors","fetch","concat","then","response","json","stuff","setState","catch","message","className","tracks","map","track","i","key","href","external_urls","spotify","name","Component","ArtistHeader","makeRequest","prevProps","src","images","url","alt","to","getColors","require","Image","colorsLoaded","bgStyle","backgroundImage","imageColors","fetchColors","numColors","display","displayMode","colors","option","gradientString","stripeWidth","length","push","pop","imageURL","currentObject","passUpColors","grabColors","count","result","onHover","style","Album","image","AlbumsSection","toggleVisible","prevState","visible","albumColors","prevColors","albumsCount","items","group","title","onClick","album","AlbumsSingles","albumsColors","prevSectionsLoaded","sectionsLoaded","Dropdown","alwaysOpen","labels","params","funct","tooltip","selected","onMouseEnter","onMouseLeave","label","AlbumOptions","updateNumColors","num","grabNumColors","updateDisplay","grabDisplay","updateOnHover","grabOnHover","numColorsOptions","Dot","bgColor","Colors","sortColors","hsl","reverse","sort","a","b","makeBins","numBins","primarySort","bins","currentBin","filter","color","Number","isNaN","max","increment","threshold","forEach","updateNumBins","bind","updatePrimarySort","updateSecondarySort","secondarySort","numBinsOptions","numBinsLabels","gradientStyles","bin","j","ArtistBody","allColors","PlaylistPage","makeAlbums","albums","song","is_local","id","artists","playlistID","Object","values","description","owner","display_name","Playlists","token","item","CurrentUserPage","SearchResults","toggleArtistsVisible","artistsVisible","togglePlaylistsVisible","playlistsVisible","query","console","log","artist","pathname","playlists","playlist","scopes","hash","window","location","substring","split","reduce","initial","parts","decodeURIComponent","SearchBox","queryChange","event","target","value","type","onChange","Menu","LoginPage","DoSearchResults","useParams","DoPlaylistPage","ArtistPage","App","localStorage","getItem","access_token","setItem","ok","Error","status","path","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1c5866b8.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass TopTracks extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst {artistID, country, headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/artists/'.concat(artistID).concat('/top-tracks?country='.concat(country)), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tisLoaded: true,\r\n\t\t\t\tdata: stuff \r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState ({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {isLoaded, data, error, errorCode} = this.state;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Top Tracks</p>\r\n\t\t\t\t\t<ol className='Top-tracks'>\r\n\t\t\t\t\t\t{data.tracks.map(\r\n\t\t\t\t\t\t\t(track, i) => (\r\n\t\t\t\t\t\t\t\t<li className='Track' key = {i}>\r\n\t\t\t\t\t\t\t\t\t<a href ={track.external_urls.spotify}>\r\n\t\t\t\t\t\t\t\t\t\t<p>{track.name}</p>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Top Tracks</p>\r\n\t\t\t\t\t{error ? <p>Error:  {errorCode}</p> : <p>...</p>}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} \r\n\t}\r\n}\r\n\r\nexport default TopTracks;","import React, {Component} from 'react';\r\nimport TopTracks from './TopTracks.js';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass ArtistHeader extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null\r\n\t\t}\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tconst {artistID, headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/artists/'.concat(artistID), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tisLoaded: true,\r\n\t\t\t\tdata: stuff \r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false,\r\n\t\t\t\tdata: null,\r\n\t\t\t\terror: false,\r\n\t\t\t\terrorCode: null\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst {isLoaded, data, error, errorCode} = this.state;\r\n\t\tconst {requestInfo} = this.props;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t<header className=\"App-header\">\r\n\t\t\t\t<div className=\"Artist-image\"><img src={data.images[0].url} alt={data.name}/></div>\r\n\t\t\t\t<div className=\"Artist-info\">\r\n\t\t\t\t\t<h1><a href={data.external_urls.spotify}>{data.name}</a></h1>\r\n\t\t\t\t\t<TopTracks requestInfo={requestInfo}/>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t<header className=\"App-header Loading\">\r\n\t\t\t\t{error ? <h1>Error: {errorCode}</h1> : <h1>Loading...</h1>}\r\n\t\t\t\t\t{error && errorCode !== '401' && <p><a href=\"https://developer.spotify.com/documentation/web-api/\">Status code info here</a></p>}\r\n\t\t\t\t\t{error && errorCode === '401' && <Link to='/paletteify/'><p>Unauthorized: Try logging in again</p></Link>}\r\n\t\t\t</header>\r\n\t\t\t)\r\n\t\t} \r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default ArtistHeader;","import React, {Component} from 'react';\r\nconst getColors = require('get-image-colors');\r\n\r\nclass Image extends Component {\r\n\t\r\nconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcolorsLoaded: false,\r\n\t\t\tbgStyle: {\r\n\t\t\t\tbackgroundImage: 'white'\r\n\t\t\t},\r\n\t\t\timageColors: []\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchColors(this.props.src);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.numColors !== prevProps.numColors) {\r\n\t\t\tthis.fetchColors(this.props.src);\r\n\t\t}\r\n\t\t\r\n\t\tif (this.props.display !== prevProps.display) {\r\n\t\t\tthis.displayMode(this.state.imageColors, this.props.display);\r\n\t\t}\r\n\t}\r\n\t\r\n\tdisplayMode(colors, option) {\r\n\t\t//result.reverse(); //optional \r\n\t\t\r\n\t\tlet gradientString = '';\r\n\t\tlet stripeWidth = 0;\r\n\t\t\r\n\t\tif (option === 0) {\r\n\t\t\t// diagonal stripes\r\n\t\t\tgradientString = 'linear-gradient(to bottom left, ';\r\n\t\t\tstripeWidth = 424 / colors.length;\r\n\t\t\r\n\t\t} else if (option === 1) {\r\n\t\t\t// vertical stripes\r\n\t\t\tgradientString = 'linear-gradient(to right, ';\r\n\t\t\tstripeWidth = 300 / colors.length;\r\n\t\t\t\r\n\t\t} else if (option === 2) {\r\n\t\t\t// target/ radial gradient\r\n\t\t\tcolors.push('white');\r\n\t\t\tgradientString = 'radial-gradient(circle, ';\r\n\t\t\tstripeWidth = 170 / colors.length;\r\n\t\t}\r\n\t\t\r\n\t\tfor (var i = 0; i < colors.length; i++) {\r\n\t\t\tgradientString += colors[i] + ' ' + stripeWidth*i + 'px,' + colors[i] + ' ' + stripeWidth*(i+1) + 'px';\r\n\t\t\tif (i < colors.length - 1) {\r\n\t\t\t\tgradientString += ',';\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tgradientString += ')';\r\n\t\t\r\n\t\tif (option === 2) {\r\n\t\t\tcolors.pop(); // for radial version only!\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t\tbgStyle: {\r\n\t\t\t\t\tbackgroundImage: gradientString\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tfetchColors(imageURL) {\r\n\t\tlet currentObject = this;\r\n\t\tlet passUpColors = this.props.grabColors;\r\n\t\tlet {numColors, display} = this.props;\r\n\t\tlet options = {count: numColors}\r\n\r\n\t\tlet promise = getColors(imageURL, options);\r\n\t\tpromise.then(function(result) {\r\n\t\t\tcurrentObject.displayMode(result, display);\r\n\r\n\t\t\tcurrentObject.setState({\r\n\t\t\t\tcolorsLoaded: true,\r\n\t\t\t\timageColors: result\r\n\t\t\t})\r\n\r\n\t\t\t// callback to pass colors to parent (album) if it exists\r\n\t\t\tif (passUpColors != null) {\r\n\t\t\t\tpassUpColors(result);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {src, alt, onHover} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='Background' style = {this.state.bgStyle}>\r\n\t\t\t\t<img className={onHover} src={src} alt={alt} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Image;","import React, {Component} from 'react';\r\nimport Image from './Image.js';\r\n\r\nclass Album extends Component {\r\n\t\r\n\tgrabColors = (imageColors) => {\r\n\t\tvar passUpColors = this.props.grabColors;\r\n\t\tpassUpColors(imageColors);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {name, image, url, numColors, display, onHover} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Image src={image} alt={name} grabColors={this.grabColors} numColors={numColors} display={display} onHover={onHover}/>\r\n\t\t\t\t<p><a href = {url}>{name}</a></p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Album;","import React, {Component} from 'react';\r\nimport Album from './Album.js';\r\n\r\nclass AlbumsSection extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tvisible: this.props.visible, \r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\tcolors: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tconst {artistID, country, headers, handleErrors} = this.props.requestInfo;\r\n\t\tconst {group} = this.props;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/artists/'.concat(artistID).concat('/albums?include_groups='.concat(group).concat('&market=').concat(country)), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tisLoaded: true,\r\n\t\t\t\tdata: stuff\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.requestInfo !== prevProps.requestInfo) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false,\r\n\t\t\t\tdata: null,\r\n\t\t\t\tcolors: null,\r\n\t\t\t\terror: false,\r\n\t\t\t\terrorCode: null\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tif (this.props.numColors !== prevProps.numColors) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: null\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tgrabColors = (albumColors) => {\r\n\t\tlet passUpColors = this.props.grabColors;\r\n\t\tlet numColors = this.props.numColors;\r\n\t\tlet prevColors = this.state.colors;\r\n\t\tconst albumsCount = this.state.data.items.length;\r\n\t\t\r\n\t\tif (prevColors === null) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: albumColors\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: prevColors.concat(albumColors)\r\n\t\t\t})\r\n\t\t}\r\n\t\t\t\r\n\t\t// when all album colors are collected, send them up to AlbumsSingles\r\n\t\tif (this.state.colors.length === albumsCount * numColors) {\r\n\t\t\tpassUpColors(this.state.colors); \r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {title, numColors, display, onHover} = this.props;\r\n\t\tconst {visible, isLoaded, data, error, errorCode} = this.state;\r\n\t\t\r\n\t\tif (isLoaded && data.items.length === 0) {\r\n\t\t\treturn null;\r\n\t\t} else if (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button onClick={this.toggleVisible} className='h2-button'><h2>{title}</h2></button>\r\n\t\t\t\t\t<div className = {'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t{data.items.map(\r\n\t\t\t\t\t\t\t(album, i) => (\r\n\t\t\t\t\t\t\t\t<div className='Album' key={i}>\r\n\t\t\t\t\t\t\t\t<Album \r\n\t\t\t\t\t\t\t\tname = {album.name}\r\n\t\t\t\t\t\t\t\timage = {album.images[1].url}\r\n\t\t\t\t\t\t\t\turl = {album.external_urls.spotify}\r\n\t\t\t\t\t\t\t\tgrabColors = {this.grabColors}\r\n\t\t\t\t\t\t\t\tnumColors = {numColors}\r\n\t\t\t\t\t\t\t\tdisplay = {display}\r\n\t\t\t\t\t\t\t\tonHover = {onHover}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) \r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button onClick={this.toggleVisible} className='h2-button'><h2>{title}</h2></button>\r\n\t\t\t\t\t<div className = {'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t{error ? <p>Error:  {errorCode}</p> : <p>...</p>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) \r\n\t\t} \r\n\t}\r\n}\r\n\r\nexport default AlbumsSection;","import React, {Component} from 'react';\r\nimport AlbumsSection from './AlbumsSection.js';\r\n\r\nclass AlbumsSingles extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = ({\r\n\t\t\tcolors: null,\r\n\t\t\tsectionsLoaded: 0\r\n\t\t})\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.requestInfo !== prevProps.requestInfo || this.props.numColors !== prevProps.numColors) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: null,\r\n\t\t\t\tsectionsLoaded: 0\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\t\t\t\t\r\n\tgrabColors = (albumsColors) => {\r\n\t\tlet passUpColors = this.props.grabColors;\r\n\t\tlet prevColors = this.state.colors;\r\n\t\tlet prevSectionsLoaded = this.state.sectionsLoaded;\r\n\t\t\r\n\t\tif (prevColors === null) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: albumsColors,\r\n\t\t\t\tsectionsLoaded: 1\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: prevColors.concat(albumsColors),\r\n\t\t\t\tsectionsLoaded: prevSectionsLoaded + 1\r\n\t\t\t})\r\n\t\t}\r\n\t\t\t\r\n\t\tif (this.state.sectionsLoaded === 2) { //change to a variable\r\n\t\t\tpassUpColors(this.state.colors);\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {requestInfo, numColors, display, onHover} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<section className = 'Albums-Singles'>\r\n\t\t\t\t\t<AlbumsSection group='album' title='Albums' visible = {true} grabColors={this.grabColors} requestInfo={requestInfo} numColors={numColors} display={display} onHover={onHover}/>\r\n\t\t\t\t\t<AlbumsSection group='single' title='Singles and EPs' visible = {false} grabColors={this.grabColors} requestInfo={requestInfo} numColors={numColors} display={display} onHover={onHover}/>\r\n\t\t\t\t\t\t{/*<AlbumsSection group='appears_on' title='Appears On' visible = {false} grabColors={this.grabColors} requestInfo={requestInfo} numColors={numColors} display={display}/>*/}\r\n\t\t\t\t</section>\r\n\t\t)\r\n\t\r\n\t}\r\n}\r\n\r\nexport default AlbumsSingles;","import React, {Component} from 'react';\r\n\r\nclass Dropdown extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tvisible: false || this.props.alwaysOpen\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tif (!this.props.alwaysOpen) {\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\tvisible: !prevState.visible\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {visible} = this.state;\r\n\t\tconst {title, labels, params, funct, tooltip, className, alwaysOpen, selected} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='Dropdown' onMouseEnter={this.toggleVisible} onMouseLeave={this.toggleVisible}>\r\n\t\t\t{alwaysOpen ? <p>{title}</p> : <div className={className}  title={tooltip}>{title}</div>}\r\n\t\t\t\t<ul className={'Dropdown-content ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t{labels.map((label, i) => (\r\n\t\t\t\t\t\t<li key={i}><button className={selected===params[i] ? 'Dropdown-option Selected' : 'Dropdown-option'} onClick={() => funct(params[i])}>{label}</button></li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Dropdown;","import React, {Component} from 'react';\r\nimport Dropdown from './Dropdown.js';\r\n\r\nclass AlbumOptions extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = ({\r\n\t\t\tnumColors: 5,\r\n\t\t\tdisplay: 0,\r\n\t\t\tonHover: 'Disappears'\r\n\t\t})\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tupdateNumColors = (num) => {\r\n\t\tthis.props.grabNumColors(num);\r\n\t\tthis.setState({\r\n\t\t\tnumColors: num\r\n\t\t});\r\n\t}\r\n\t\r\n\tupdateDisplay = (option) => {\r\n\t\tthis.props.grabDisplay(option);\r\n\t\tthis.setState({\r\n\t\t\tdisplay: option\r\n\t\t});\r\n\t}\r\n\t\r\n\tupdateOnHover = (option) => {\r\n\t\tthis.props.grabOnHover(option);\r\n\t\tthis.setState({\r\n\t\t\tonHover: option\r\n\t\t});\r\n\t}\r\n\t/*\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tconsole.log('props');\r\n\t\t\tconsole.log(this.props);\r\n\t\t}\r\n\t\tif (prevState !== this.state) {\r\n\t\t\tconsole.log('state');\r\n\t\t}\r\n\t}\r\n\t*/\r\n\trender() {\r\n\t\tconst numColorsOptions = [1,2,3,4,5,6,7];\r\n\t\t\r\n\t\tconst displayLabels = ['Diagonal', 'Vertical', 'Target'];\r\n\t\tconst displayParams = [0,1,2];\r\n\t\t\r\n\t\tconst onHoverLabels = ['Album Art', 'Color Palette'];\r\n\t\tconst onHoverParams = ['Disappears', 'Appears'];\r\n\t\t\r\n\t\tconst {numColors, display, onHover} = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='Options'>\r\n\t\t\t\t<Dropdown title='#' labels={numColorsOptions} params={numColorsOptions} funct={this.updateNumColors} tooltip='Number of colors per album' className='h2-button' selected={numColors}/>\r\n\t\t\t\t<Dropdown title='â˜' labels={onHoverLabels} params={onHoverParams} funct={this.updateOnHover} tooltip='Display by default' className='h2-button' selected={onHover}/>\r\n\t\t\t\t<Dropdown title='//' labels={displayLabels} params={displayParams} funct={this.updateDisplay} tooltip='Album colors display style' className='h2-button' selected={display}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nexport default AlbumOptions;","import React, {Component} from 'react';\r\n\r\nclass Dot extends Component {\r\n\t\r\n\trender() {\r\n\t\tconst {bgColor} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='Dot' style={{'backgroundColor': bgColor}}></div>\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Dot;","import React, {Component} from 'react';\r\nimport Dot from './Dot.js';\r\nimport Dropdown from './Dropdown.js';\r\n\r\nclass Colors extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.updateNumBins = this.updateNumBins.bind(this);\r\n\t\tthis.updatePrimarySort = this.updatePrimarySort.bind(this);\r\n\t\tthis.updateSecondarySort = this.updateSecondarySort.bind(this);\r\n\t\t\r\n\t\tthis.state = ({\r\n\t\t\tnumBins: 14,\r\n\t\t\tprimarySort: 0,\r\n\t\t\tsecondarySort: 1\r\n\t\t})\r\n\t}\r\n\t\r\n\tsortColors = (colors, hsl, reverse) => {\r\n\t\tif (reverse) {\r\n\t\t\tcolors.sort((a,b) => a.hsl()[hsl] - b.hsl()[hsl]);\r\n\t\t} else {\r\n\t\t\tcolors.sort((a,b) => b.hsl()[hsl] - a.hsl()[hsl]);\r\n\t\t}\r\n\t}\r\n\r\n\tmakeBins = (colors, numBins, primarySort) => {\r\n\t\tlet bins = [[]];\r\n\t\tlet currentBin = bins[0];\r\n\t\t\r\n\t\tif (primarySort === 0) {\r\n\t\t\tbins[0] = colors.filter(color => {\r\n\t\t\t\treturn Number.isNaN(color.hsl()[0]); // new bin for hueless colors\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tcurrentBin = [];\r\n\t\t\tbins.push(currentBin);\r\n\t\t\tnumBins -= 1;\r\n\t\t\t\r\n\t\t\tcolors = colors.filter(color => {\r\n\t\t\t\treturn !Number.isNaN(color.hsl()[0]);\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.sortColors(colors, primarySort, false);\r\n\t\t\r\n\t\tconst max = colors[0].hsl()[primarySort];\r\n\t\tconst min = colors[colors.length-1].hsl()[primarySort];\r\n\t\t\r\n\t\tconst increment = (max-min) / numBins;\r\n\t\tlet threshold = max - increment;\r\n\t\t\r\n\t\tcolors.forEach(color => {\r\n\t\t\tif (color.hsl()[primarySort] > threshold) {\r\n\t\t\t\tcurrentBin.push(color);\r\n\t\t\t} else {\r\n\t\t\t\tthreshold -= increment;\r\n\t\t\t\tcurrentBin = [color];\r\n\t\t\t\tbins.push(currentBin);\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\treturn bins;\r\n\t}\r\n\t\r\n\tupdatePrimarySort(hsl) {\r\n\t\tthis.setState({\r\n\t\t\tprimarySort: hsl\r\n\t\t})\r\n\t}\r\n\t\r\n\tupdateSecondarySort(hsl) {\r\n\t\tthis.setState({\r\n\t\t\tsecondarySort: hsl\r\n\t\t})\r\n\t}\r\n\t\r\n\tupdateNumBins(num) {\r\n\t\tthis.setState({\r\n\t\t\tnumBins: num\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tvar {colors} = this.props;\r\n\t\tvar {numBins, primarySort, secondarySort} = this.state;\r\n\t\tconst numBinsOptions = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14];\r\n\t\tconst numBinsLabels = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];\r\n\t\tconst hsl = ['Hue', 'Saturation', 'Lightness'];\r\n\t\tconst gradientStyles = [\r\n\t\t{backgroundImage: 'linear-gradient(to right, white, magenta, purple, blue, green, yellow, orange, red)'},\r\n\t\t{backgroundImage: 'linear-gradient(to right, #47d8ff, gray)'},\r\n\t\t{backgroundImage: 'linear-gradient(to right, white, #47d8ff, black)'}]\r\n\r\n\t\tif (colors === null) {\r\n\t\t\treturn (\r\n\t\t\t\t<section className='Colors'>\r\n\t\t\t\t\t<h2>Colors</h2>\r\n\t\t\t\t\t<div className='Sorting-options'>\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='Max Number of Bins:' labels={numBinsLabels} params={numBinsOptions} funct={this.updateNumBins} selected={numBins} alwaysOpen={true} /><br/>\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='Primary Sort:' labels={hsl} params={[0,1,2]} funct={this.updatePrimarySort} selected={primarySort} alwaysOpen={true}/><br/>\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='Secondary Sort:' labels={hsl} params={[0,1,2]} funct={this.updateSecondarySort} selected={secondarySort} alwaysOpen={true}/><br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='Gradient' style={gradientStyles[primarySort]}></div>\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\tlet bins = this.makeBins(colors, numBins, primarySort); \r\n\r\n\t\t\tbins.forEach(bin => {\r\n\t\t\t\tthis.sortColors(bin, secondarySort, false);\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<section className='Colors'>\r\n\t\t\t\t\t<h2>Colors</h2>\r\n\t\t\t\t\t<div className='Sorting-options'>\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='Max Number of Bins:' labels={numBinsLabels} params={numBinsOptions} funct={this.updateNumBins} selected={numBins} alwaysOpen={true} /><br/>\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='Primary Sort:' labels={hsl} params={[0,1,2]} funct={this.updatePrimarySort} selected={primarySort} alwaysOpen={true}/><br/>\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='Secondary Sort:' labels={hsl} params={[0,1,2]} funct={this.updateSecondarySort} selected={secondarySort} alwaysOpen={true}/><br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='Gradient' style={gradientStyles[primarySort]}></div>\r\n\t\t\t\t\t<div className='Dots'>\r\n\t\t\t\t\t\t{bins.map((bin, i) => (\r\n\t\t\t\t\t\t\t<div className='Bin' key={i}>\r\n\t\t\t\t\t\t\t\t\t{bin.map((color, j) => (<Dot key = {j} bgColor = {color}/>))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\t\t\r\n}\t\r\n\r\n\r\nexport default Colors;","import React, {Component} from 'react';\r\nimport AlbumsSingles from './AlbumsSingles.js';\r\nimport AlbumOptions from './AlbumOptions.js';\r\nimport Colors from './Colors.js';\r\n\r\nclass ArtistBody extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = ({\r\n\t\t\tcolors: null,\r\n\t\t\tnumColors: 5,\r\n\t\t\tdisplay: 0,\r\n\t\t\tonHover: 'Disappears'\r\n\t\t})\r\n\t}\r\n\t\r\n\tgrabColors = (allColors) => {\r\n\t\tthis.setState({\r\n\t\t\tcolors: allColors\r\n\t\t})\r\n\t}\r\n\t\r\n\tgrabNumColors = (num) => {\r\n\t\tthis.setState({\r\n\t\t\tnumColors: num\r\n\t\t})\r\n\t}\r\n\t\r\n\tgrabDisplay = (option) => {\r\n\t\tthis.setState({\r\n\t\t\tdisplay: option\r\n\t\t})\r\n\t}\r\n\t\r\n\tgrabOnHover = (option) => {\r\n\t\tthis.setState({\r\n\t\t\tonHover: option\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst allColors = this.state.colors;\r\n\t\tconst {requestInfo} = this.props;\r\n\t\tconst {numColors, display, onHover} = this.state;\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='Body'>\r\n\t\t\t\t<AlbumOptions grabNumColors={this.grabNumColors} grabDisplay={this.grabDisplay} grabOnHover={this.grabOnHover}/>\r\n\t\t\t\t<AlbumsSingles grabColors={this.grabColors} requestInfo={requestInfo} numColors={numColors} display={display} onHover={onHover}/>\r\n\t\t\t\t<Colors colors={allColors}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\t\r\n\t}\r\n}\r\n\r\nexport default ArtistBody;","import React, {Component} from 'react';\r\nimport AlbumOptions from './AlbumOptions.js';\r\nimport Album from './Album.js';\r\nimport Colors from './Colors.js';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass PlaylistPage extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.makeAlbums = this.makeAlbums.bind(this);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\talbums: {},\r\n\t\t\tnumColors: 5,\r\n\t\t\tdisplay: 0,\r\n\t\t\tonHover: 'Disappears',\r\n\t\t\tcolors: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null,\r\n\t\t\tvisible: true\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeAlbums() {\r\n\t\tlet {data, albums} = this.state;\r\n\t\t\r\n\t\tdata.tracks.items.forEach(song => {\r\n\t\t\tlet track = song.track;\r\n\t\t\tif (!track.is_local) {\r\n\t\t\t\tif (albums[track.album.id] != null) {\r\n\t\t\t\t\talbums[track.album.id].tracks.push({\r\n\t\t\t\t\t\tname: track.name,\r\n\t\t\t\t\t\turl: track.external_urls.spotify\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\talbums[track.album.id] = {\r\n\t\t\t\t\t\tname: track.album.name,\r\n\t\t\t\t\t\turl: track.album.external_urls.spotify,\r\n\t\t\t\t\t\timage: track.album.images[1],\r\n\t\t\t\t\t\tartists: track.album.artists,\r\n\t\t\t\t\t\ttracks: [{\r\n\t\t\t\t\t\t\tname: track.name,\r\n\t\t\t\t\t\t\turl: track.external_urls.spotify\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tconst {playlistID, headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/playlists/'.concat(playlistID), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tgrabColors = (albumColors) => {\r\n\t\tlet prevColors = this.state.colors;\t\r\n\t\t\r\n\t\tif (prevColors === null) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: albumColors\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: prevColors.concat(albumColors)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tgrabNumColors = (num) => {\r\n\t\tthis.setState({\r\n\t\t\tnumColors: num\r\n\t\t})\r\n\t}\r\n\t\r\n\tgrabDisplay = (option) => {\r\n\t\tthis.setState({\r\n\t\t\tdisplay: option\r\n\t\t})\r\n\t}\r\n\t\r\n\tgrabOnHover = (option) => {\r\n\t\tthis.setState({\r\n\t\t\tonHover: option\r\n\t\t})\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false,\r\n\t\t\t\tdata: null,\r\n\t\t\t\tcolors: null,\r\n\t\t\t\talbums: {},\r\n\t\t\t\terror: false,\r\n\t\t\t\terrorCode: null\r\n\t\t\t})\r\n\t\t} \r\n\t\t\r\n\t\tif (prevState.data !== this.state.data && this.state.data != null && this.state.isLoaded === false) {\r\n\t\t\tthis.makeAlbums();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: true\r\n\t\t\t})\r\n\t\t} \r\n\t\t\r\n\t\tif (prevState.numColors !== this.state.numColors) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: null\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender () {\r\n\t\tconst {isLoaded, data, colors, numColors, onHover, display, error, errorCode, visible} = this.state;\r\n\t\tconst albums = Object.values(this.state.albums);\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t\t\t<header className='App-header'>\r\n\t\t\t\t\t\t<div className='Playlist-image'>\r\n\t\t\t\t\t\t\t<img src={data.images[0].url} alt={data.name}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Playlist-info'>\r\n\t\t\t\t\t\t\t<h1><a href={data.external_urls.spotify}>{data.name}</a></h1>\r\n\t\t\t\t\t\t\t<p className='Playlist-description'>{data.description}</p>\r\n\t\t\t\t\t\t\t<p><a href={data.owner.external_urls.spotify}>{data.owner.display_name}</a></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Playlist-body'>\r\n\t\t\t\t\t\t<AlbumOptions grabNumColors={this.grabNumColors} grabDisplay={this.grabDisplay} grabOnHover={this.grabOnHover}/>\r\n\t\t\t\t\t\t<div className='Albums-Singles'>\r\n\t\t\t\t\t\t\t<button className='h2-button' onClick={this.toggleVisible}><h2>Albums</h2></button>\r\n\t\t\t\t\t\t\t<div className={'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\t\t{albums.map(\r\n\t\t\t\t\t\t\t\t\t(album, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className='Album' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Album \r\n\t\t\t\t\t\t\t\t\t\t\tname = {album.name}\r\n\t\t\t\t\t\t\t\t\t\t\timage = {album.image.url}\r\n\t\t\t\t\t\t\t\t\t\t\turl = {album.url}\r\n\t\t\t\t\t\t\t\t\t\t\tgrabColors = {this.grabColors}\r\n\t\t\t\t\t\t\t\t\t\t\tnumColors = {numColors}\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay = {display}\r\n\t\t\t\t\t\t\t\t\t\t\tonHover = {onHover}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<p><Link to={'/paletteify/artist/' + album.artists[0].id}>{album.artists[0].name}</Link></p>\r\n\t\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{album.tracks.map((track, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={i}><a href={track.url}>{track.name}</a></li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Colors colors={colors}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t<header className='App-header Loading'>\r\n\t\t\t\t{error ? <h1>Error: {errorCode}</h1> : <h1>Loading...</h1>}\r\n\t\t\t\t\t{error && errorCode !== '401' && <p><a href='https://developer.spotify.com/documentation/web-api/'>Status code info here</a></p>}\r\n\t\t\t\t\t{error && errorCode === '401' && <Link to='/paletteify/'><p>Unauthorized: Try logging in again</p></Link>}\r\n\t\t\t</header>\r\n\t\t\t)\r\n\t\t} \r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nexport default PlaylistPage;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Playlists extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terrorCode: null,\r\n\t\t\tvisible: true\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tvar headers = {'Authorization': 'Bearer '.concat(this.props.token)};\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/me/playlists', {headers})\r\n\t\t\t.then(this.props.handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff,\r\n\t\t\t\tisLoaded: true\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {data, isLoaded, error, errorCode, visible} = this.state;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\t\r\n\t\t\t\t<div className='Body'>\r\n\t\t\t\t\t<button className='h2-button' onClick={this.toggleVisible}><h2>Playlists</h2></button>\r\n\t\t\t\t\t<div className={'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t{data.items.map((item, i) => (\r\n\t\t\t\t\t\t\t<div key={i} className='Album'>\r\n\t\t\t\t\t\t\t\t<Link to={'/paletteify/playlist/' + item.id}>\r\n\t\t\t\t\t\t\t\t\t<img src={item.images[0].url} alt={item.name}/>\r\n\t\t\t\t\t\t\t\t\t<p>{item.name}</p>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\t\r\n\t\t\t\t\t{error ? <h2>Error: {errorCode}</h2> : <h2>Loading...</h2>}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass CurrentUserPage extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terrorCode: null,\r\n\t\t}\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tvar headers = {'Authorization': 'Bearer '.concat(this.props.token)};\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/me', {headers})\r\n\t\t\t.then(this.props.handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff,\r\n\t\t\t\tisLoaded: true\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {data, isLoaded, error, errorCode} = this.state;\r\n\t\tconst {token} = this.props;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<header className='App-header'>\t\r\n\t\t\t\t\t\t<div className='Playlist-image'>\r\n\t\t\t\t\t\t\t<img src={data.images[0].url} alt={data.name}/>\r\n\t\t\t\t\t\t</div>\t\t\t\r\n\t\t\t\t\t\t<div className='Playlist-info'>\r\n\t\t\t\t\t\t\t<a href={data.external_urls.spotify}><h1>{data.display_name}</h1></a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<div className=\"User-body\">\r\n\t\t\t\t\t\t<Playlists token={token}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<header className='App-header Loading'>\t\r\n\t\t\t\t\t{error ? <h1>Error: {errorCode}</h1> : <h1>Loading...</h1>}\r\n\t\t\t\t\t{error && errorCode !== '401' && <p><a href='https://developer.spotify.com/documentation/web-api/'>Status code info here</a></p>}\r\n\t\t\t\t\t{error && errorCode === '401' && <Link to='/paletteify/'><p>Unauthorized: Try logging in again</p></Link>}\r\n\t\t\t\t</header>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default CurrentUserPage;","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass SearchResults extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null,\r\n\t\t\tartistsVisible: true,\r\n\t\t\tplaylistsVisible: true\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleArtistsVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tartistsVisible: !prevState.artistsVisible\r\n\t\t}));\r\n\t}\r\n\t\r\n\ttogglePlaylistsVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tplaylistsVisible: !prevState.playlistsVisible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tconst {query, headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/search?q='.concat(query).concat('&type=artist%2Cplaylist'), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff,\r\n\t\t\t\tisLoaded: true\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {data, isLoaded, error, errorCode, artistsVisible, playlistsVisible} = this.state;\r\n\t\tconst {query} = this.props.requestInfo;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\tconsole.log(data.artists.items[0]);\r\n\t\t\treturn (\t\t\t\r\n\t\t\t\t<div className='Search-results'>\r\n\t\t\t\t\t<header className=\"App-header Loading\">\r\n\t\t\t\t\t\t<h1>Search for \"{query}\"</h1>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<div className='Body'>\r\n\t\t\t\t\t\t<button className='h2-button' onClick={this.toggleArtistsVisible}><h2>Artists</h2></button>\r\n\t\t\t\t\t\t<div className={'Albums ' + (artistsVisible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\t{data.artists.items.length === 0 ? \r\n\t\t\t\t\t\t\t\t<p>No results found</p> :\r\n\t\t\t\t\t\t\t\tdata.artists.items.map((artist, i) => (\r\n\t\t\t\t\t\t\t\t\t<div className='Album' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={{pathname: '/paletteify/artist/'.concat(artist.id)}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{artist.images.length === 0 ? \r\n\t\t\t\t\t\t\t\t\t\t\t<div className='Image-replacement'/> :\r\n\t\t\t\t\t\t\t\t\t\t\t<img src={artist.images[0].url} alt={artist.name}/>}\r\n\t\t\t\t\t\t\t\t\t\t\t<p>{artist.name}</p>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button className='h2-button' onClick={this.togglePlaylistsVisible}><h2>Playlists</h2></button>\r\n\t\t\t\t\t\t<div className={'Albums ' + (playlistsVisible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\t{data.playlists.items.length === 0 ? \r\n\t\t\t\t\t\t\t\t<p>No results found</p> :\r\n\t\t\t\t\t\t\t\tdata.playlists.items.map((playlist, i) => (\r\n\t\t\t\t\t\t\t\t\t<div className='Album' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={{pathname: '/paletteify/playlist/'.concat(playlist.id)}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{playlist.images.length === 0 ? \r\n\t\t\t\t\t\t\t\t\t\t\t<div className='Image-replacement'/> :\r\n\t\t\t\t\t\t\t\t\t\t\t<img src={playlist.images[0].url} alt={playlist.name}/>}\r\n\t\t\t\t\t\t\t\t\t\t\t<p>{playlist.name}</p>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='Search-results'>\r\n\t\t\t\t\t<header className=\"App-header Loading\">\r\n\t\t\t\t\t\t<h1>Search for {query}</h1>\r\n\t\t\t\t\t\t\t{error && <h2>Error: {errorCode}</h2>}\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t{error && errorCode !== '401' && <p><a href='https://developer.spotify.com/documentation/web-api/'>Status code info here</a></p>}\r\n\t\t\t\t\t{error && errorCode === '401' && <Link to='/paletteify/'><p>Unauthorized: Try logging in again</p></Link>}\r\n\t\t\t\t\t{!error && <h2>Loading...</h2>}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default SearchResults;","import React, {Component} from 'react';\nimport {BrowserRouter as Router, Switch, Route, Link, Redirect, useParams} from 'react-router-dom';\n\nimport './App.css';\nimport ArtistHeader from './components/ArtistHeader.js';\nimport ArtistBody from './components/ArtistBody.js';\nimport PlaylistPage from './components/PlaylistPage.js';\nimport CurrentUserPage from './components/CurrentUserPage.js';\nimport SearchResults from './components/SearchResults.js';\n\nconst clientId = 'a4e61050459f4f3cbac28ccd3826f37a';\nconst redirectUri = 'http://localhost:3000/paletteify/callback';\n//const redirectUri = 'https://jtarinelli.github.io/paletteify/callback';\nvar scopes = ['playlist-read-private'];\n\nvar hash = window.location.hash // idk what this even is, move it into somewhere?\n\t.substring(1)\n\t.split('&')\n\t.reduce(function(initial, item) {\n\tif (item) {\n\t\tvar parts = item.split('=');\n\t\tinitial[parts[0]] = decodeURIComponent(parts[1]);\n\t}\n\treturn initial;\n\t}, {});\n\nwindow.location.hash = '';\n\n/* to do:\n** put in spaces\n** clean up css/combine classes where possible\n** make it so you can open links in new tabs/go directly somewhere besides the home page (if possible?)\n** figure out what to do when token expires/check if token in local storage is expired \n** add no login option if you don't want to and figure out how to log out\n** highlighted options change but actual selection doesn't when new playlist is loaded via search box (might not matter once is actually search)\n**** should seperate options from body so it doesn't reload a billion times everytime it updates\n** dot size option (maybe also album image size?) \n** make menu collapsable\n** multiple artists for playlist album\n** fix id form so both pressing enter and the button works (or not cause it'll be a search eventually anyway >:))\n** make toptracks work better with more than 2 columns\n** maybe? change dropdown to actual html select element instead of all divs\n** make numBins not a dropdown(prob form/textbox would be good? or actual dropdown w/ scrollbar)\n** load more albums button\n** factor out makeResponse function if possible (make requestor obj/class that takes in string and holds just data/error info?)\n** show better message on error \n**** it seems like when there's an error the api returns multiple objects, but idk how to get them\n*/\n\nclass SearchBox extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.queryChange = this.queryChange.bind(this);\n\n\t\tthis.state = {\n\t\t\tquery: ''\n\t\t\t};\n\t}\n\n\tqueryChange(event) {\n\t\tthis.setState({query: event.target.value});\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className='Search-box'>\n\t\t\t\t<label>\n\t\t\t\t\tSearch: <input type='text' value={this.state.query} onChange={this.queryChange}/>\n\t\t\t\t</label>\n\t\t\t\t<Link to={'/paletteify/search/' + this.state.query}>>></Link>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass Menu extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className='Menu'>\n\t\t\t\t<Link to='/paletteify/'>Home</Link>\n\t\t\t\t<SearchBox/>\n\t\t\t\t<div className='Menu-right'>\n\t\t\t\t\t<Link to ='/paletteify/me'>My Profile</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction LoginPage(props) {\n\treturn (\n\t\t<header className='App-header Loading Cover'>\n\t\t\t<h1 className='Bigboi'>Paletteify</h1>\n\t\t\t<h2 className='Login-button'><a href={`https://accounts.spotify.com/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=token&scope=${scopes}`}>Login to Spotify</a></h2>\n\t\t\t{props.token !== null && <div>\n\t\t\t\t<p><Link to='/paletteify/me'>My Profile</Link></p>\n\t\t\t\t<SearchBox/>\n\t\t\t\t</div>}\n\t\t</header>\n\t)\n}\n\nfunction DoSearchResults(props) {\n\tconst {query} = useParams();\n\tvar requestInfo = {\n\t\tquery: query,\n\t\tcountry: 'US',\n\t\theaders: {'Authorization': 'Bearer '.concat(props.token)},\n\t\thandleErrors: props.handleErrors\n\t}\n\t\t\n\treturn (\n\t\t<div>\n\t\t\t<SearchResults requestInfo={requestInfo}/>\n\t\t</div>\n\t)\n}\n\nfunction DoPlaylistPage(props) { // not ideal way to do this i think\n\tconst {playlistID} = useParams();\n\tvar requestInfo = {\n\t\tplaylistID: playlistID,\n\t\tcountry: 'US',\n\t\theaders: {'Authorization': 'Bearer '.concat(props.token)},\n\t\thandleErrors: props.handleErrors\n\t}\n\t\t\n\treturn (\n\t\t<div>\n\t\t\t<PlaylistPage requestInfo={requestInfo}/>\n\t\t</div>\n\t)\n}\n\nfunction ArtistPage(props) {\n\tconst {artistID} = useParams();\n\tvar requestInfo = {\n\t\tartistID: artistID,\n\t\tcountry: 'US',\n\t\theaders: {'Authorization': 'Bearer '.concat(props.token)},\n\t\thandleErrors: props.handleErrors\n\t}\n\t\t\n\treturn (\n\t\t<div>\n\t\t\t<ArtistHeader requestInfo={requestInfo}/>\n\t\t\t<ArtistBody requestInfo={requestInfo}/>\n\t\t</div>\n\t)\n}\n\nclass App extends Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst token = localStorage.getItem('token');\n\t\t\n\t\tthis.state = ({\n\t\t\ttoken: token\n\t\t})\n\t}\n\t\n\tcomponentDidMount() {\n\t\tconst token = hash.access_token;\n\t\t\n\t\tif (token) {\n\t\t\tthis.setState({\n\t\t\t\ttoken: token\n\t\t\t});\n\t\t\tlocalStorage.setItem('token', token);\n\t\t}\n\t}\n\t\n\thandleErrors(response) {\n\t\tif (!response.ok) {\n\t\t\tthrow Error(response.status);\n\t\t}\n\t\treturn response;\n\t}\n\t\t\n\trender() {\n\t\tconst {token} = this.state;\n\t\t\n\t\treturn (\n\t\t\t<div className='App'>\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path='/paletteify/artist/:artistID'>\n\t\t\t\t\t\t\t<Menu/>\n\t\t\t\t\t\t\t<ArtistPage token={token} handleErrors={this.handleErrors}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/playlist/:playlistID'>\n\t\t\t\t\t\t\t<Menu/>\n\t\t\t\t\t\t\t<DoPlaylistPage token={token} handleErrors={this.handleErrors}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/search/:query'>\n\t\t\t\t\t\t\t<Menu/>\n\t\t\t\t\t\t\t<DoSearchResults token={token} handleErrors={this.handleErrors}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/me'>\n\t\t\t\t\t\t\t<Menu/>\n\t\t\t\t\t\t\t<CurrentUserPage token={token} handleErrors={this.handleErrors}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/callback'>\n\t\t\t\t\t\t\t<Redirect to='/paletteify/me'/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/'>\n\t\t\t\t\t\t\t<LoginPage token={token}/> \n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}