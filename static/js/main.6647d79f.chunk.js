(this.webpackJsonppaletteify=this.webpackJsonppaletteify||[]).push([[0],{136:function(e,t){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(68),s=a.n(l),o=(a(75),a(1)),i=a(2),c=a(4),u=a(3),m=a(6),d=a(5),h=(a(76),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,data:null,error:!1,errorCode:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.requestInfo,a=t.artistID,n=t.country,r=t.headers,l=t.handleErrors;fetch("https://api.spotify.com/v1/artists/".concat(a).concat("/top-tracks?country=".concat(n)),{headers:r}).then(l).then((function(e){return e.json()})).then((function(t){return e.setState({isLoaded:!0,data:t})})).catch((function(t){return e.setState({error:!0,errorCode:t.message})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.data,n=e.error,l=e.errorCode;return t&&!n?r.a.createElement("div",null,r.a.createElement("p",null,"Top Tracks"),r.a.createElement("ol",{className:"Top-tracks"},a.tracks.map((function(e,t){return r.a.createElement("li",{className:"Track",key:t},r.a.createElement("a",{href:e.external_urls.spotify},r.a.createElement("p",null,e.name)))})))):r.a.createElement("div",null,r.a.createElement("p",null,"Top Tracks"),n?r.a.createElement("p",null,"Error:  ",l):r.a.createElement("p",null,"..."))}}]),a}(n.Component)),p=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,data:null,error:!1,errorCode:null},n}return Object(i.a)(a,[{key:"makeRequest",value:function(){var e=this,t=this.props.requestInfo,a=t.artistID,n=t.headers,r=t.handleErrors;fetch("https://api.spotify.com/v1/artists/".concat(a),{headers:n}).then(r).then((function(e){return e.json()})).then((function(t){return e.setState({isLoaded:!0,data:t})})).catch((function(t){return e.setState({error:!0,errorCode:t.message})}))}},{key:"componentDidMount",value:function(){this.makeRequest()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.makeRequest(),this.setState({isLoaded:!1,data:null,error:!1,errorCode:null}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.data,n=e.error,l=e.errorCode,s=this.props.requestInfo;return t&&!n?r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"Artist-image"},r.a.createElement("img",{src:a.images[0].url,alt:a.name})),r.a.createElement("div",{className:"Artist-info"},r.a.createElement("h1",null,r.a.createElement("a",{href:a.external_urls.spotify},a.name)),r.a.createElement(h,{requestInfo:s}))):r.a.createElement("header",{className:"App-header Loading"},n?r.a.createElement("h1",null,"Error: ",l):r.a.createElement("h1",null,"Loading..."),n&&"401"!==l&&r.a.createElement("p",null,r.a.createElement("a",{href:"https://developer.spotify.com/documentation/web-api/"},"Status code info here")),n&&"401"===l&&r.a.createElement(m.b,{to:"/paletteify/"},r.a.createElement("p",null,"Unauthorized: Try logging in again")))}}]),a}(n.Component),b=a(81),f=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={colorsLoaded:!1,bgStyle:{backgroundImage:"white"},imageColors:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchColors(this.props.src)}},{key:"componentDidUpdate",value:function(e){this.props.numColors!==e.numColors&&this.fetchColors(this.props.src),this.props.display!==e.display&&this.displayMode(this.state.imageColors,this.props.display)}},{key:"displayMode",value:function(e,t){var a="",n=0;0===t?(a="linear-gradient(to bottom left, ",n=424/e.length):1===t?(a="linear-gradient(to right, ",n=300/e.length):2===t&&(e.push("white"),a="radial-gradient(circle, ",n=170/e.length);for(var r=0;r<e.length;r++)a+=e[r]+" "+n*r+"px,"+e[r]+" "+n*(r+1)+"px",r<e.length-1&&(a+=",");a+=")",2===t&&e.pop(),this.setState({bgStyle:{backgroundImage:a}})}},{key:"fetchColors",value:function(e){var t=this,a=this.props.grabColors,n=this.props,r=n.numColors,l=n.display;b(e,{count:r}).then((function(e){t.displayMode(e,l),t.setState({colorsLoaded:!0,imageColors:e}),null!=a&&a(e)}))}},{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt,n=e.onHover;return r.a.createElement("div",{className:"Background",style:this.state.bgStyle},r.a.createElement("img",{className:n,src:t,alt:a}))}}]),a}(n.Component),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).grabColors=function(t){(0,e.props.grabColors)(t)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.image,n=e.url,l=e.numColors,s=e.display,o=e.onHover;return r.a.createElement("div",null,r.a.createElement(f,{src:a,alt:t,grabColors:this.grabColors,numColors:l,display:s,onHover:o}),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("a",{href:n},t))))}}]),a}(n.Component),E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleVisible=function(){n.setState((function(e){return{visible:!e.visible}}))},n.grabColors=function(e){var t=n.props.grabColors,a=n.props.numColors,r=n.state.colors,l=n.state.data.items.length;null===r?n.setState({colors:e}):n.setState({colors:r.concat(e)}),n.state.colors.length>=l*a&&t(n.state.colors)},n.state={visible:n.props.visible,isLoaded:!1,data:null,colors:null,error:!1,errorCode:null},n}return Object(i.a)(a,[{key:"makeRequest",value:function(){var e=this,t=this.props.requestInfo,a=t.artistID,n=t.country,r=t.headers,l=t.handleErrors,s=this.props.group;fetch("https://api.spotify.com/v1/artists/".concat(a).concat("/albums?include_groups=".concat(s).concat("&market=").concat(n)),{headers:r}).then(l).then((function(e){return e.json()})).then((function(t){return e.setState({isLoaded:!0,data:t})})).catch((function(t){return e.setState({error:!0,errorCode:t.message})}))}},{key:"requestNextPage",value:function(e){var t=this,a=this.props.requestInfo,n=a.headers,r=a.handleErrors;fetch(e,{headers:n}).then(r).then((function(e){return e.json()})).then((function(e){return t.setState((function(t){var a=t.data;return a.items=t.data.items.concat(e.items),a.next=e.next,{data:a}}))})).catch((function(e){return t.setState({error:!0,errorCode:e.message})}))}},{key:"componentDidMount",value:function(){this.makeRequest()}},{key:"componentDidUpdate",value:function(e,t){this.props.requestInfo!==e.requestInfo&&(this.makeRequest(),this.setState({isLoaded:!1,data:null,colors:null,error:!1,errorCode:null})),this.props.numColors!==e.numColors&&this.setState({colors:null})}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.numColors,l=t.display,s=t.onHover,o=this.state,i=o.visible,c=o.isLoaded,u=o.data,m=o.error,d=o.errorCode;return c&&0===u.items.length?null:c&&!m?r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleVisible,className:"h2-button"},r.a.createElement("h2",null,a)),r.a.createElement("div",{className:"Albums "+(i?"visible":"hidden")},u.items.map((function(t,a){return r.a.createElement("div",{className:"Album",key:a},r.a.createElement(v,{name:t.name,image:t.images[1].url,url:t.external_urls.spotify,grabColors:e.grabColors,numColors:n,display:l,onHover:s}))})),null!==u.next&&r.a.createElement("button",{className:"h2-button Album-small-button",onClick:function(){return e.requestNextPage(u.next)}},r.a.createElement("div",{className:"Album"},r.a.createElement("div",{className:"Image-replacement"},r.a.createElement("h2",null,"Load more")),r.a.createElement("p",null,"  "))))):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.toggleVisible,className:"h2-button"},r.a.createElement("h2",null,a)),r.a.createElement("div",{className:"Albums "+(i?"visible":"hidden")},m?r.a.createElement("p",null,"Error:  ",d):r.a.createElement("p",null,"...")))}}]),a}(n.Component),y=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).grabColors=function(e){var t=n.props.grabColors,a=n.state.colors,r=n.state.sectionsLoaded;null===a?n.setState({colors:e,sectionsLoaded:1}):n.state.sectionsLoaded<2&&n.setState({colors:a.concat(e),sectionsLoaded:r+1}),2===n.state.sectionsLoaded&&t(n.state.colors)},n.state={colors:null,sectionsLoaded:0},n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.requestInfo===e.requestInfo&&this.props.numColors===e.numColors||this.setState({colors:null,sectionsLoaded:0})}},{key:"render",value:function(){var e=this.props,t=e.requestInfo,a=e.numColors,n=e.display,l=e.onHover;return r.a.createElement("section",{className:"Albums-Singles"},r.a.createElement(E,{group:"album",title:"Albums",visible:!0,grabColors:this.grabColors,requestInfo:t,numColors:a,display:n,onHover:l}),r.a.createElement(E,{group:"single",title:"Singles and EPs",visible:!1,grabColors:this.grabColors,requestInfo:t,numColors:a,display:n,onHover:l}))}}]),a}(n.Component),g=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleVisible=function(){n.props.alwaysOpen||n.setState((function(e){return{visible:!e.visible}}))},n.state={visible:n.props.alwaysOpen},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.visible,t=this.props,a=t.title,n=t.labels,l=t.params,s=t.funct,o=t.tooltip,i=t.className,c=t.alwaysOpen,u=t.selected;return r.a.createElement("div",{className:"Dropdown",onMouseEnter:this.toggleVisible,onMouseLeave:this.toggleVisible},c?r.a.createElement("p",null,r.a.createElement("b",null,a)):r.a.createElement("div",{className:i,title:o},a),r.a.createElement("ul",{className:"Dropdown-content "+(e?"visible":"hidden")},n.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("button",{className:u===l[t]?"Dropdown-option Selected":"Dropdown-option",onClick:function(){return s(l[t])}},e))}))))}}]),a}(n.Component),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleVisible=function(){n.setState((function(e){return{visible:!e.visible}}))},n.updateNumColors=function(e){n.props.grabNumColors(e),n.setState({numColors:e})},n.updateDisplay=function(e){n.props.grabDisplay(e),n.setState({display:e})},n.updateOnHover=function(e){n.props.grabOnHover(e),n.setState({onHover:e})},n.state={numColors:5,display:0,onHover:"Disappears"},n}return Object(i.a)(a,[{key:"render",value:function(){var e=[1,2,3,4,5,6,7],t=this.state,a=t.numColors,n=t.display,l=t.onHover;return r.a.createElement("div",{className:"Options"},r.a.createElement(g,{title:"#",labels:e,params:e,funct:this.updateNumColors,tooltip:"Number of colors per album",className:"h2-button",selected:a}),r.a.createElement(g,{title:"\u2610",labels:["Album Art","Color Palette"],params:["Disappears","Appears"],funct:this.updateOnHover,tooltip:"Display by default",className:"h2-button",selected:l}),r.a.createElement(g,{title:"//",labels:["Diagonal","Vertical","Target"],params:[0,1,2],funct:this.updateDisplay,tooltip:"Album colors display style",className:"h2-button",selected:n}))}}]),a}(n.Component),C=a(9),S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.bgColor;return r.a.createElement("div",{className:"Dot",style:{backgroundColor:e}})}}]),a}(n.Component),N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).valueChange=n.valueChange.bind(Object(C.a)(n)),n.state={value:n.props.selected},n}return Object(i.a)(a,[{key:"valueChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.funct(t)}},{key:"render",value:function(){var e=this.state.value,t=this.props,a=t.title,n=t.min,l=t.max;return r.a.createElement("div",{className:"Slider"},r.a.createElement("p",null,r.a.createElement("b",null,a),r.a.createElement("input",{type:"range",min:n,max:l,value:e,onChange:this.valueChange}),e))}}]),a}(n.Component),O=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).sortColors=function(e,t,a){a?e.sort((function(e,a){return e.hsl()[t]-a.hsl()[t]})):e.sort((function(e,a){return a.hsl()[t]-e.hsl()[t]}))},n.makeBins=function(e,t,a){var r=[[]],l=r[0];0===a&&(r[0]=e.filter((function(e){return Number.isNaN(e.hsl()[0])})),l=[],r.push(l),t-=1,e=e.filter((function(e){return!Number.isNaN(e.hsl()[0])}))),n.sortColors(e,a,!1);var s=e[0].hsl()[a],o=(s-e[e.length-1].hsl()[a])/t,i=s-o;return e.forEach((function(e){e.hsl()[a]>i?l.push(e):(i-=o,l=[e],r.push(l))})),r},n.updateNumBins=n.updateNumBins.bind(Object(C.a)(n)),n.updatePrimarySort=n.updatePrimarySort.bind(Object(C.a)(n)),n.updateSecondarySort=n.updateSecondarySort.bind(Object(C.a)(n)),n.state={numBins:14,primarySort:0,secondarySort:1},n}return Object(i.a)(a,[{key:"updatePrimarySort",value:function(e){this.setState({primarySort:e})}},{key:"updateSecondarySort",value:function(e){this.setState({secondarySort:e})}},{key:"updateNumBins",value:function(e){this.setState({numBins:e})}},{key:"render",value:function(){var e=this,t=this.props.colors,a=this.state,n=a.numBins,l=a.primarySort,s=a.secondarySort,o=["Hue","Saturation","Lightness"],i=[{backgroundImage:"linear-gradient(to right, white, magenta, purple, blue, green, yellow, orange, red)"},{backgroundImage:"linear-gradient(to right, #47d8ff, gray)"},{backgroundImage:"linear-gradient(to right, white, #47d8ff, black)"}];if(null!==t){var c=this.makeBins(t,n,l);return c.forEach((function(t){e.sortColors(t,s,!1)})),r.a.createElement("section",{className:"Colors"},r.a.createElement("h2",null,"Colors"),r.a.createElement("div",{className:"Sorting-options"},r.a.createElement(N,{title:"Max Number of Bins: ",funct:this.updateNumBins,selected:n,min:"1",max:"20"}),r.a.createElement(g,{className:"p-button",title:"Primary Sort:",labels:o,params:[0,1,2],funct:this.updatePrimarySort,selected:l,alwaysOpen:!0}),r.a.createElement("br",null),r.a.createElement(g,{className:"p-button",title:"Secondary Sort:",labels:o,params:[0,1,2],funct:this.updateSecondarySort,selected:s,alwaysOpen:!0}),r.a.createElement("br",null)),r.a.createElement("div",{className:"Gradient",style:i[l]}),r.a.createElement("div",{className:"Dots"},c.map((function(e,t){return r.a.createElement("div",{className:"Bin",key:t},e.map((function(e,t){return r.a.createElement(S,{key:t,bgColor:e})})))}))))}return r.a.createElement("section",{className:"Colors"},r.a.createElement("h2",null,"Colors"),r.a.createElement("div",{className:"Sorting-options"},r.a.createElement(N,{title:"Max Number of Bins: ",funct:this.updateNumBins,selected:n,min:"1",max:"20"}),r.a.createElement(g,{className:"p-button",title:"Primary Sort:",labels:o,params:[0,1,2],funct:this.updatePrimarySort,selected:l,alwaysOpen:!0}),r.a.createElement("br",null),r.a.createElement(g,{className:"p-button",title:"Secondary Sort:",labels:o,params:[0,1,2],funct:this.updateSecondarySort,selected:s,alwaysOpen:!0}),r.a.createElement("br",null)),r.a.createElement("div",{className:"Gradient",style:i[l]}))}}]),a}(n.Component),j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).grabColors=function(e){n.setState({colors:e})},n.grabNumColors=function(e){n.setState({numColors:e})},n.grabDisplay=function(e){n.setState({display:e})},n.grabOnHover=function(e){n.setState({onHover:e})},n.state={colors:null,numColors:5,display:0,onHover:"Disappears"},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.colors,t=this.props.requestInfo,a=this.state,n=a.numColors,l=a.display,s=a.onHover;return r.a.createElement("div",{className:"Body"},r.a.createElement(k,{grabNumColors:this.grabNumColors,grabDisplay:this.grabDisplay,grabOnHover:this.grabOnHover}),r.a.createElement(y,{grabColors:this.grabColors,requestInfo:t,numColors:n,display:l,onHover:s}),r.a.createElement(O,{colors:e}))}}]),a}(n.Component),q=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleVisible=function(){n.setState((function(e){return{visible:!e.visible}}))},n.grabColors=function(e){var t=n.state.colors;null===t?n.setState({colors:e}):n.setState({colors:t.concat(e)})},n.grabNumColors=function(e){n.setState({numColors:e})},n.grabDisplay=function(e){n.setState({display:e})},n.grabOnHover=function(e){n.setState({onHover:e})},n.makeAlbums=n.makeAlbums.bind(Object(C.a)(n)),n.state={isLoaded:!1,data:null,albums:{},numColors:5,display:0,onHover:"Disappears",colors:null,error:!1,errorCode:null,visible:!0},n}return Object(i.a)(a,[{key:"makeAlbums",value:function(){var e=this.state.data,t={};console.log("UWU"),e.tracks.items.forEach((function(e){var a=e.track;a.is_local||(null!=t[a.album.id]?t[a.album.id].tracks.push({name:a.name,url:a.external_urls.spotify}):t[a.album.id]={name:a.album.name,url:a.album.external_urls.spotify,image:a.album.images[1],artists:a.album.artists,tracks:[{name:a.name,url:a.external_urls.spotify}]})})),this.setState({albums:t})}},{key:"makeRequest",value:function(){var e=this,t=this.props.requestInfo,a=t.playlistID,n=t.headers,r=t.handleErrors;fetch("https://api.spotify.com/v1/playlists/".concat(a),{headers:n}).then(r).then((function(e){return e.json()})).then((function(t){return e.setState({data:t})})).catch((function(t){return e.setState({error:!0,errorCode:t.message})}))}},{key:"requestNextPage",value:function(e){var t=this,a=this.props.requestInfo,n=a.headers,r=a.handleErrors;fetch(e,{headers:n}).then(r).then((function(e){return e.json()})).then((function(e){return t.setState((function(t){var a=t.data;return a.tracks.items=t.data.tracks.items.concat(e.items),a.tracks.next=e.next,{data:a,albums:{},colors:null}}))})).then(this.makeAlbums).catch((function(e){return t.setState({error:!0,errorCode:e.message})}))}},{key:"componentDidMount",value:function(){this.makeRequest()}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&(this.makeRequest(),this.setState({isLoaded:!1,data:null,colors:null,albums:{},error:!1,errorCode:null})),t.data!==this.state.data&&null!=this.state.data&&!1===this.state.isLoaded&&(this.makeAlbums(),this.setState({isLoaded:!0})),t.numColors!==this.state.numColors&&this.setState({colors:null})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoaded,n=t.data,l=t.colors,s=t.numColors,o=t.onHover,i=t.display,c=t.error,u=t.errorCode,d=t.visible,h=Object.values(this.state.albums);return a&&!c?r.a.createElement("div",null,r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"Playlist-image"},r.a.createElement("img",{src:n.images[0].url,alt:n.name})),r.a.createElement("div",{className:"Playlist-info"},r.a.createElement("h1",null,r.a.createElement("a",{href:n.external_urls.spotify},n.name)),r.a.createElement("p",{className:"Playlist-description"},n.description),r.a.createElement("p",null,r.a.createElement("a",{href:n.owner.external_urls.spotify},n.owner.display_name)))),r.a.createElement("div",{className:"Playlist-body"},r.a.createElement(k,{grabNumColors:this.grabNumColors,grabDisplay:this.grabDisplay,grabOnHover:this.grabOnHover}),r.a.createElement("div",{className:"Albums-Singles"},r.a.createElement("button",{className:"h2-button",onClick:this.toggleVisible},r.a.createElement("h2",null,"Albums")),r.a.createElement("div",{className:"Albums "+(d?"visible":"hidden")},h.map((function(t,a){return r.a.createElement("div",{className:"Album",key:a},r.a.createElement(v,{name:t.name,image:t.image.url,url:t.url,grabColors:e.grabColors,numColors:s,display:i,onHover:o}),r.a.createElement("p",null,t.artists.map((function(e,t){return 0===t?r.a.createElement("span",{key:t},r.a.createElement(m.b,{to:"/paletteify/artist/"+e.id},e.name)):r.a.createElement("span",{key:t},", ",r.a.createElement(m.b,{to:"/paletteify/artist/"+e.id}," ",e.name))}))),r.a.createElement("ul",null,t.tracks.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("a",{href:e.url},e.name))}))))})),null!==n.tracks.next&&r.a.createElement("button",{className:"h2-button Album-small-button",onClick:function(){return e.requestNextPage(n.tracks.next)}},r.a.createElement("div",{className:"Album"},r.a.createElement("div",{className:"Image-replacement"},r.a.createElement("h2",null,"Load more")),r.a.createElement("p",null,"  "))))),r.a.createElement(O,{colors:l}))):r.a.createElement("header",{className:"App-header Loading"},c?r.a.createElement("h1",null,"Error: ",u):r.a.createElement("h1",null,"Loading..."),c&&"401"!==u&&r.a.createElement("p",null,r.a.createElement("a",{href:"https://developer.spotify.com/documentation/web-api/"},"Status code info here")),c&&"401"===u&&r.a.createElement(m.b,{to:"/paletteify/"},r.a.createElement("p",null,"Unauthorized: Try logging in again")))}}]),a}(n.Component),L=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleVisible=function(){n.setState((function(e){return{visible:!e.visible}}))},n.state={isLoaded:!1,data:null,errorCode:null,visible:!0},n}return Object(i.a)(a,[{key:"makeRequest",value:function(){var e=this,t={Authorization:"Bearer ".concat(this.props.token)};fetch("https://api.spotify.com/v1/me/playlists",{headers:t}).then(this.props.handleErrors).then((function(e){return e.json()})).then((function(t){return e.setState({data:t,isLoaded:!0})})).catch((function(t){return e.setState({error:!0,errorCode:t.message})}))}},{key:"componentDidMount",value:function(){this.makeRequest()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.makeRequest(),this.setState({isLoaded:!1}))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.isLoaded,n=e.error,l=e.errorCode,s=e.visible;return a&&!n?r.a.createElement("div",null,r.a.createElement("button",{className:"h2-button",onClick:this.toggleVisible},r.a.createElement("h2",null,"Playlists")),r.a.createElement("div",{className:"Albums "+(s?"visible":"hidden")},t.items.map((function(e,t){return r.a.createElement("div",{key:t,className:"Album-small"},r.a.createElement(m.b,{to:"/paletteify/playlist/"+e.id},r.a.createElement("img",{src:e.images[0].url,alt:e.name}),r.a.createElement("p",null,r.a.createElement("b",null,e.name))))})))):r.a.createElement("div",null,n?r.a.createElement("h2",null,"Error: ",l):r.a.createElement("h2",null,"Loading..."))}}]),a}(n.Component),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleVisible=function(){n.setState((function(e){return{visible:!e.visible}}))},n.state={isLoaded:!1,data:null,errorCode:null,visible:!0},n}return Object(i.a)(a,[{key:"makeRequest",value:function(){var e=this,t={Authorization:"Bearer ".concat(this.props.token)};fetch("https://api.spotify.com/v1/me/top/artists?time_range=medium_term",{headers:t}).then(this.props.handleErrors).then((function(e){return e.json()})).then((function(t){return e.setState({data:t,isLoaded:!0})})).catch((function(t){return e.setState({error:!0,errorCode:t.message})}))}},{key:"componentDidMount",value:function(){this.makeRequest()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.makeRequest(),this.setState({isLoaded:!1}))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.isLoaded,n=e.error,l=e.errorCode,s=e.visible;return a&&!n?r.a.createElement("div",null,r.a.createElement("button",{className:"h2-button",onClick:this.toggleVisible},r.a.createElement("h2",null,"Top Artists")),r.a.createElement("div",{className:"Albums "+(s?"visible":"hidden")},t.items.map((function(e,t){return r.a.createElement("div",{key:t,className:"Album-small"},r.a.createElement(m.b,{to:"/paletteify/artist/"+e.id},r.a.createElement("img",{src:e.images[0].url,alt:e.name}),r.a.createElement("p",null,r.a.createElement("b",null,e.name))))})))):r.a.createElement("div",null,n?r.a.createElement("h2",null,"Error: ",l):r.a.createElement("h2",null,"Loading..."))}}]),a}(n.Component),D=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,data:null,errorCode:null},n}return Object(i.a)(a,[{key:"makeRequest",value:function(){var e=this,t={Authorization:"Bearer ".concat(this.props.token)};fetch("https://api.spotify.com/v1/me",{headers:t}).then(this.props.handleErrors).then((function(e){return e.json()})).then((function(t){return e.setState({data:t,isLoaded:!0})})).catch((function(t){return e.setState({error:!0,errorCode:t.message})}))}},{key:"componentDidMount",value:function(){this.makeRequest()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.makeRequest(),this.setState({isLoaded:!1}))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.isLoaded,n=e.error,l=e.errorCode,s=this.props.token;return a&&!n?r.a.createElement("div",null,r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"Playlist-image"},r.a.createElement("img",{src:t.images[0].url,alt:t.name})),r.a.createElement("div",{className:"Playlist-info"},r.a.createElement("a",{href:t.external_urls.spotify},r.a.createElement("h1",null,t.display_name)))),r.a.createElement("div",{className:"Body User-body"},r.a.createElement(L,{token:s}),r.a.createElement(A,{token:s}))):r.a.createElement("header",{className:"App-header Loading"},n?r.a.createElement("h1",null,"Error: ",l):r.a.createElement("h1",null,"Loading..."),n&&"401"!==l&&r.a.createElement("p",null,r.a.createElement("a",{href:"https://developer.spotify.com/documentation/web-api/"},"Status code info here")),n&&"401"===l&&r.a.createElement(m.b,{to:"/paletteify/"},r.a.createElement("p",null,"Unauthorized: Try logging in again")))}}]),a}(n.Component),I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).queryChange=n.queryChange.bind(Object(C.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(C.a)(n)),n.state={query:"",redirect:!1},n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){this.setState({redirect:!0}),e.preventDefault()}},{key:"queryChange",value:function(e){this.setState({query:e.target.value}),this.state.redirect&&this.setState({redirect:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Search-box"},this.state.redirect&&r.a.createElement(d.a,{to:"/paletteify/search/"+this.state.query}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("input",{type:"text",placeholder:"Search",value:this.state.query,onChange:this.queryChange})),r.a.createElement(m.b,{to:"/paletteify/search/"+this.state.query},">>")))}}]),a}(n.Component),x=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).toggleArtistsVisible=function(){n.setState((function(e){return{artistsVisible:!e.artistsVisible}}))},n.togglePlaylistsVisible=function(){n.setState((function(e){return{playlistsVisible:!e.playlistsVisible}}))},n.state={isLoaded:!1,data:null,error:!1,errorCode:null,artistsVisible:!0,playlistsVisible:!0},n}return Object(i.a)(a,[{key:"makeRequest",value:function(){var e=this,t=this.props.requestInfo,a=t.query,n=t.headers,r=t.handleErrors;fetch("https://api.spotify.com/v1/search?q=".concat(a).concat("&type=artist%2Cplaylist&limit=19"),{headers:n}).then(r).then((function(e){return e.json()})).then((function(t){return e.setState({data:t,isLoaded:!0})})).catch((function(t){return e.setState({error:!0,errorCode:t.message})}))}},{key:"requestNextPage",value:function(e){var t=this,a=this.props.requestInfo,n=a.headers,r=a.handleErrors;fetch(e,{headers:n}).then(r).then((function(e){return e.json()})).then((function(e){return t.setState((function(t){var a=t.data;return void 0!==e.artists?(a.artists.items=a.artists.items.concat(e.artists.items),a.artists.next=e.artists.next):void 0!==e.playlists&&(a.playlists.items=a.playlists.items.concat(e.playlists.items),a.playlists.next=e.playlists.next),{data:a}}))})).catch((function(e){return t.setState({error:!0,errorCode:e.message})}))}},{key:"componentDidMount",value:function(){this.makeRequest()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.makeRequest(),this.setState({isLoaded:!1}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.isLoaded,l=t.error,s=t.errorCode,o=t.artistsVisible,i=t.playlistsVisible,c=this.props.requestInfo.query;return n&&!l?r.a.createElement("div",{className:"Search-results"},r.a.createElement("header",{className:"App-header Loading"},r.a.createElement("h1",null,'Search for "',c,'"')),r.a.createElement("section",{className:"Body"},r.a.createElement("button",{className:"h2-button",onClick:this.toggleArtistsVisible},r.a.createElement("h2",null,"Artists")),r.a.createElement("div",{className:"Albums "+(o?"visible":"hidden")},0===a.artists.items.length?r.a.createElement("p",null,"No results found"):a.artists.items.map((function(e,t){return r.a.createElement("div",{className:"Album-small",key:t},r.a.createElement(m.b,{to:{pathname:"/paletteify/artist/".concat(e.id)}},0===e.images.length?r.a.createElement("div",{className:"Image-replacement"}):r.a.createElement("img",{src:e.images[0].url,alt:e.name}),r.a.createElement("p",null,r.a.createElement("b",null,e.name))))})),null!==a.artists.next&&r.a.createElement("button",{className:"h2-button Album-small-button",onClick:function(){return e.requestNextPage(a.artists.next)}},r.a.createElement("div",{className:"Album-small"},r.a.createElement("div",{className:"Image-replacement"},r.a.createElement("h2",null,"Load more")),r.a.createElement("p",null,"  ")))),r.a.createElement("div",null,r.a.createElement("button",{className:"h2-button",onClick:this.togglePlaylistsVisible},r.a.createElement("h2",null,"Playlists")),r.a.createElement("div",{className:"Albums "+(i?"visible":"hidden")},0===a.playlists.items.length?r.a.createElement("p",null,"No results found"):a.playlists.items.map((function(e,t){return r.a.createElement("div",{className:"Album-small",key:t},r.a.createElement(m.b,{to:{pathname:"/paletteify/playlist/".concat(e.id)}},0===e.images.length?r.a.createElement("div",{className:"Image-replacement"}):r.a.createElement("img",{src:e.images[0].url,alt:e.name}),r.a.createElement("p",null,r.a.createElement("b",null,e.name))))})),null!==a.playlists.next&&r.a.createElement("button",{className:"h2-button Album-small-button",onClick:function(){return e.requestNextPage(a.playlists.next)}},r.a.createElement("div",{className:"Album-small"},r.a.createElement("div",{className:"Image-replacement"},r.a.createElement("h2",null,"Load more")),r.a.createElement("p",null,"  "))))))):r.a.createElement("div",{className:"Search-results"},r.a.createElement("header",{className:"App-header Loading"},r.a.createElement("h1",null,'Search for "',c,'"'),l&&r.a.createElement("h1",null,"Error: ",s)),l&&"401"!==s&&r.a.createElement("h2",null,r.a.createElement("a",{href:"https://developer.spotify.com/documentation/web-api/"},"Status code info here")),l&&"401"===s&&r.a.createElement(m.b,{to:"/paletteify/"},r.a.createElement("h2",null,"Unauthorized: Try logging in again")),!l&&r.a.createElement("h2",null,"Loading..."))}}]),a}(n.Component),w=window.location,H=w.protocol+"//"+w.hostname+(w.port?":"+w.port:"")+"/paletteify/callback",P=["playlist-read-private","user-top-read"],B=w.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});w.hash="";var V=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Menu"},r.a.createElement(m.b,{to:"/paletteify/"},"Home"),r.a.createElement(I,null),r.a.createElement("div",{className:"Menu-right"},r.a.createElement(m.b,{to:"/paletteify/me"},"My Profile")))}}]),a}(n.Component);function M(e){return r.a.createElement("header",{className:"App-header Loading Cover"},r.a.createElement("h1",{className:"Bigboi"},"Paletteify"),r.a.createElement("a",{href:"https://accounts.spotify.com/authorize?client_id=".concat("a4e61050459f4f3cbac28ccd3826f37a","&redirect_uri=").concat(H,"&response_type=token&scope=").concat(P)},r.a.createElement("h2",{className:"Login-button"},"Login to Spotify")),null!==e.token&&r.a.createElement("div",{className:"Menu"},r.a.createElement(m.b,{to:"/paletteify/me"},"My Profile"),r.a.createElement(I,null)))}function R(e){var t={query:Object(d.h)().query,country:"US",headers:{Authorization:"Bearer ".concat(e.token)},handleErrors:e.handleErrors};return r.a.createElement("div",null,r.a.createElement(x,{requestInfo:t}))}function U(e){var t={playlistID:Object(d.h)().playlistID,country:"US",headers:{Authorization:"Bearer ".concat(e.token)},handleErrors:e.handleErrors};return r.a.createElement("div",null,r.a.createElement(q,{requestInfo:t}))}function _(e){var t={artistID:Object(d.h)().artistID,country:"US",headers:{Authorization:"Bearer ".concat(e.token)},handleErrors:e.handleErrors};return r.a.createElement("div",null,r.a.createElement(p,{requestInfo:t}),r.a.createElement(j,{requestInfo:t}))}function T(){var e=new URLSearchParams(Object(d.g)().search).get("p");return null!==e?r.a.createElement(d.a,{to:"/paletteify".concat(e)}):null}var z=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(o.a)(this,a),n=t.call(this,e);var r=localStorage.getItem("token");return n.state={token:r},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=B.access_token;e&&(this.setState({token:e}),localStorage.setItem("token",e))}},{key:"handleErrors",value:function(e){if(!e.ok)throw Error(e.status);return e}},{key:"render",value:function(){var e=this.state.token;return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/paletteify/artist/:artistID"},r.a.createElement(V,null),r.a.createElement(_,{token:e,handleErrors:this.handleErrors})),r.a.createElement(d.b,{path:"/paletteify/playlist/:playlistID"},r.a.createElement(V,null),r.a.createElement(U,{token:e,handleErrors:this.handleErrors})),r.a.createElement(d.b,{path:"/paletteify/search/:query"},r.a.createElement(V,null),r.a.createElement(R,{token:e,handleErrors:this.handleErrors})),r.a.createElement(d.b,{path:"/paletteify/me"},r.a.createElement(V,null),r.a.createElement(D,{token:e,handleErrors:this.handleErrors})),r.a.createElement(d.b,{path:"/paletteify/callback"},r.a.createElement(d.a,{to:"/paletteify/me"})),r.a.createElement(d.b,{path:"/paletteify/"},r.a.createElement(T,null),r.a.createElement(M,{token:e})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a(177)},75:function(e,t,a){},76:function(e,t,a){},97:function(e,t){},99:function(e,t){}},[[70,1,2]]]);
//# sourceMappingURL=main.6647d79f.chunk.js.map