{"version":3,"sources":["components/TopTracks.js","components/ArtistHeader.js","components/Image.js","components/Album.js","components/AlbumsSection.js","components/AlbumsSingles.js","components/Dropdown.js","components/AlbumOptions.js","components/Dot.js","components/Slider.js","components/Colors.js","components/ArtistBody.js","components/PlaylistPage.js","components/CurrentUserPage.js","components/SearchBox.js","components/SearchResults.js","App.js","serviceWorker.js","index.js"],"names":["TopTracks","props","state","isLoaded","data","error","errorCode","this","requestInfo","artistID","country","headers","handleErrors","fetch","concat","then","response","json","stuff","setState","catch","message","className","tracks","map","track","i","key","href","external_urls","spotify","name","Component","ArtistHeader","makeRequest","prevProps","src","images","url","alt","to","getColors","require","Image","colorsLoaded","bgStyle","backgroundImage","imageColors","fetchColors","numColors","display","displayMode","colors","option","gradientString","stripeWidth","length","push","pop","imageURL","currentObject","passUpColors","grabColors","count","result","onHover","style","Album","image","AlbumsSection","toggleVisible","prevState","visible","albumColors","prevColors","albumsCount","items","group","newData","next","title","onClick","album","requestNextPage","AlbumsSingles","albumsColors","prevSectionsLoaded","sectionsLoaded","Dropdown","alwaysOpen","labels","params","funct","tooltip","selected","onMouseEnter","onMouseLeave","label","AlbumOptions","updateNumColors","num","grabNumColors","updateDisplay","grabDisplay","updateOnHover","grabOnHover","numColorsOptions","Dot","bgColor","Slider","valueChange","bind","value","event","newValue","target","min","max","type","onChange","Colors","sortColors","hsl","reverse","sort","a","b","makeBins","numBins","primarySort","bins","currentBin","filter","color","Number","isNaN","increment","threshold","forEach","updateNumBins","updatePrimarySort","updateSecondarySort","secondarySort","gradientStyles","bin","j","ArtistBody","allColors","PlaylistPage","makeAlbums","albums","song","is_local","id","artists","playlistID","Object","values","description","owner","display_name","artist","Playlists","token","item","TopArtists","CurrentUserPage","SearchBox","queryChange","handleSubmit","query","redirect","preventDefault","onSubmit","placeholder","SearchResults","toggleArtistsVisible","artistsVisible","togglePlaylistsVisible","playlistsVisible","undefined","playlists","pathname","playlist","l","window","location","redirectUri","protocol","hostname","port","scopes","hash","substring","split","reduce","initial","parts","decodeURIComponent","Menu","LoginPage","DoSearchResults","useParams","DoPlaylistPage","ArtistPage","Redirector","page","URLSearchParams","useLocation","search","get","App","localStorage","getItem","access_token","setItem","ok","Error","status","path","Boolean","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.84530a64.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\n// displays the top 10 tracks on an artist page\r\nclass TopTracks extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst {artistID, country, headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/artists/'.concat(artistID).concat('/top-tracks?country='.concat(country)), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tisLoaded: true,\r\n\t\t\t\tdata: stuff \r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState ({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {isLoaded, data, error, errorCode} = this.state;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Top Tracks</p>\r\n\t\t\t\t\t<ol className='Top-tracks'>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{data.tracks.map((track, i) => (\r\n\t\t\t\t\t\t\t<li className='Track' key = {i}>\r\n\t\t\t\t\t\t\t\t<a href ={track.external_urls.spotify}>\r\n\t\t\t\t\t\t\t\t\t<p>{track.name}</p>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</ol>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Top Tracks</p>\r\n\t\t\t\t\t{error ? <p>Error:  {errorCode}</p> : <p>...</p>}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t} \r\n\t}\r\n}\r\n\r\nexport default TopTracks;","import React, {Component} from 'react';\r\nimport TopTracks from './TopTracks.js';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n// header for the artist page, contains image, name, and top tracks\r\nclass ArtistHeader extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null\r\n\t\t}\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tconst {artistID, headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/artists/'.concat(artistID), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tisLoaded: true,\r\n\t\t\t\tdata: stuff \r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false,\r\n\t\t\t\tdata: null,\r\n\t\t\t\terror: false,\r\n\t\t\t\terrorCode: null\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst {isLoaded, data, error, errorCode} = this.state;\r\n\t\tconst {requestInfo} = this.props;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<header className=\"App-header\">\r\n\t\t\t\t\t<div className=\"Artist-image\"><img src={data.images[0].url} alt={data.name}/></div>\r\n\t\t\t\t\t<div className=\"Artist-info\">\r\n\t\t\t\t\t\t<h1><a href={data.external_urls.spotify}>{data.name}</a></h1>\r\n\t\t\t\t\t\t<TopTracks requestInfo={requestInfo}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<header className=\"App-header Loading\">\r\n\t\t\t\t\t{error ? <h1>Error: {errorCode}</h1> : <h1>Loading...</h1>}\r\n\t\t\t\t\t{error && errorCode !== '401' && \r\n\t\t\t\t\t\t<p><a href=\"https://developer.spotify.com/documentation/web-api/\">Status code info here</a></p>}\r\n\t\t\t\t\t{error && errorCode === '401' && \r\n\t\t\t\t\t\t<Link to='/paletteify/'><p>Unauthorized: Try logging in again</p></Link>}\r\n\t\t\t\t</header>\r\n\t\t\t)\r\n\t\t} \r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default ArtistHeader;","import React, {Component} from 'react';\r\nconst getColors = require('get-image-colors');\r\n\r\nclass Image extends Component {\r\n\t\r\n// an image which generates its color palette then displays it on hover \r\nconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcolorsLoaded: false,\r\n\t\t\tbgStyle: {backgroundImage: 'white'},\r\n\t\t\timageColors: []\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchColors(this.props.src);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.numColors !== prevProps.numColors) {\r\n\t\t\tthis.fetchColors(this.props.src);\r\n\t\t}\r\n\t\t\r\n\t\tif (this.props.display !== prevProps.display) {\r\n\t\t\tthis.displayMode(this.state.imageColors, this.props.display);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// changes how the color palette is displayed: as diagonal stripes, vertical stripes, or a target\r\n\tdisplayMode(colors, option) {\r\n\t\t//result.reverse(); //optional \r\n\t\t\r\n\t\tlet gradientString = '';\r\n\t\tlet stripeWidth = 0;\r\n\t\t\r\n\t\tif (option === 0) {\r\n\t\t\t// diagonal stripes\r\n\t\t\tgradientString = 'linear-gradient(to bottom left, ';\r\n\t\t\tstripeWidth = 424 / colors.length;\r\n\t\t\r\n\t\t} else if (option === 1) {\r\n\t\t\t// vertical stripes\r\n\t\t\tgradientString = 'linear-gradient(to right, ';\r\n\t\t\tstripeWidth = 300 / colors.length;\r\n\t\t\t\r\n\t\t} else if (option === 2) {\r\n\t\t\t// target/ radial gradient\r\n\t\t\tcolors.push('white');\r\n\t\t\tgradientString = 'radial-gradient(circle, ';\r\n\t\t\tstripeWidth = 170 / colors.length;\r\n\t\t}\r\n\t\t\r\n\t\tfor (var i = 0; i < colors.length; i++) {\r\n\t\t\tgradientString += colors[i] + ' ' + stripeWidth*i + 'px,' + colors[i] + ' ' + stripeWidth*(i+1) + 'px';\r\n\t\t\t\r\n\t\t\tif (i < colors.length - 1) {\r\n\t\t\t\tgradientString += ',';\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tgradientString += ')';\r\n\t\t\r\n\t\tif (option === 2) {\r\n\t\t\tcolors.pop(); // for radial version only!\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({bgStyle: {backgroundImage: gradientString}})\r\n\t}\r\n\r\n\tfetchColors(imageURL) {\r\n\t\tlet currentObject = this;\r\n\t\tlet passUpColors = this.props.grabColors;\r\n\t\tlet {numColors, display} = this.props;\r\n\t\tlet options = {count: numColors}\r\n\r\n\t\tlet promise = getColors(imageURL, options);\r\n\t\tpromise.then(function(result) {\r\n\t\t\tcurrentObject.displayMode(result, display);\r\n\r\n\t\t\tcurrentObject.setState({\r\n\t\t\t\tcolorsLoaded: true,\r\n\t\t\t\timageColors: result\r\n\t\t\t})\r\n\r\n\t\t\t// callback to pass colors to parent (album) if it exists\r\n\t\t\tif (passUpColors != null) {\r\n\t\t\t\tpassUpColors(result);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {src, alt, onHover} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className='Background' style = {this.state.bgStyle}>\r\n\t\t\t\t<img className={onHover} src={src} alt={alt} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Image;","import React, {Component} from 'react';\r\nimport Image from './Image.js';\r\n\r\n// album that passes the color palette of the album art up to the parent component\r\nclass Album extends Component {\r\n\t\r\n\tgrabColors = (imageColors) => {\r\n\t\tvar passUpColors = this.props.grabColors;\r\n\t\tpassUpColors(imageColors);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {name, image, url, numColors, display, onHover} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Image src={image} alt={name} grabColors={this.grabColors} numColors={numColors} display={display} onHover={onHover}/>\r\n\t\t\t\t<p><b><a href = {url}>{name}</a></b></p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Album;","import React, {Component} from 'react';\r\nimport Album from './Album.js';\r\n\r\n// one section of albums for the artist page\r\nclass AlbumsSection extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tvisible: this.props.visible, \r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\tcolors: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tconst {artistID, country, headers, handleErrors} = this.props.requestInfo;\r\n\t\tconst {group} = this.props;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/artists/'.concat(artistID).concat('/albums?include_groups='.concat(group).concat('&market=').concat(country)), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tisLoaded: true,\r\n\t\t\t\tdata: stuff\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\trequestNextPage(url) {\r\n\t\tconst {headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch(url, {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState(prevState => {\t\t\t\t\r\n\t\t\t\tlet newData = prevState.data;\r\n\t\t\t\t\r\n\t\t\t\tnewData.items = prevState.data.items.concat(stuff.items);\r\n\t\t\t\tnewData.next = stuff.next;\r\n\t\t\t\t\r\n\t\t\t\treturn ({data: newData})\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.props.requestInfo !== prevProps.requestInfo) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false,\r\n\t\t\t\tdata: null,\r\n\t\t\t\tcolors: null,\r\n\t\t\t\terror: false,\r\n\t\t\t\terrorCode: null\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tif (this.props.numColors !== prevProps.numColors) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: null\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tgrabColors = (albumColors) => {\r\n\t\tlet passUpColors = this.props.grabColors;\r\n\t\tlet numColors = this.props.numColors;\r\n\t\tlet prevColors = this.state.colors;\r\n\t\tconst albumsCount = this.state.data.items.length;\r\n\t\t\r\n\t\tif (prevColors === null) {\r\n\t\t\tthis.setState({colors: albumColors})\r\n\t\t} else {\r\n\t\t\tthis.setState({colors: prevColors.concat(albumColors)})\r\n\t\t}\r\n\t\t\t\r\n\t\t// when all album colors are collected, send them up to AlbumsSingles\r\n\t\tif (this.state.colors.length >= albumsCount * numColors) {\r\n\t\t\tpassUpColors(this.state.colors); \r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {title, numColors, display, onHover} = this.props;\r\n\t\tconst {visible, isLoaded, data, error, errorCode} = this.state;\r\n\t\t\r\n\t\tif (isLoaded && data.items.length === 0) {\r\n\t\t\treturn null;\r\n\t\t\t\r\n\t\t} else if (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button onClick={this.toggleVisible} className='h2-button'><h2>{title}</h2></button>\r\n\t\t\t\t\t<div className = {'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{data.items.map((album, i) => (\r\n\t\t\t\t\t\t\t<div className='Album' key={i}>\r\n\t\t\t\t\t\t\t\t<Album \r\n\t\t\t\t\t\t\t\tname = {album.name}\r\n\t\t\t\t\t\t\t\timage = {album.images[1].url}\r\n\t\t\t\t\t\t\t\turl = {album.external_urls.spotify}\r\n\t\t\t\t\t\t\t\tgrabColors = {this.grabColors}\r\n\t\t\t\t\t\t\t\tnumColors = {numColors}\r\n\t\t\t\t\t\t\t\tdisplay = {display}\r\n\t\t\t\t\t\t\t\tonHover = {onHover}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{data.next !== null &&\r\n\t\t\t\t\t\t\t<button className='h2-button Album-small-button' onClick={() => this.requestNextPage(data.next)}>\r\n\t\t\t\t\t\t\t\t<div className='Album'>\r\n\t\t\t\t\t\t\t\t\t<div className='Image-replacement'>\r\n\t\t\t\t\t\t\t\t\t\t<h2>Load more</h2>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p>  </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button onClick={this.toggleVisible} className='h2-button'><h2>{title}</h2></button>\r\n\t\t\t\t\t<div className = {'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t{error ? <p>Error:  {errorCode}</p> : <p>...</p>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) \r\n\t\t} \r\n\t}\r\n}\r\n\r\nexport default AlbumsSection;","import React, {Component} from 'react';\r\nimport AlbumsSection from './AlbumsSection.js';\r\n\r\n// contains all albums/singles for an artist page\r\nclass AlbumsSingles extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = ({\r\n\t\t\tcolors: null,\r\n\t\t\tsectionsLoaded: 0\r\n\t\t})\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.props.requestInfo !== prevProps.requestInfo || this.props.numColors !== prevProps.numColors) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: null,\r\n\t\t\t\tsectionsLoaded: 0\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\t\t\t\t\r\n\tgrabColors = (albumsColors) => {\r\n\t\tlet passUpColors = this.props.grabColors;\r\n\t\tlet prevColors = this.state.colors;\r\n\t\tlet prevSectionsLoaded = this.state.sectionsLoaded;\r\n\t\t\r\n\t\tif (prevColors === null) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: albumsColors,\r\n\t\t\t\tsectionsLoaded: 1\r\n\t\t\t})\r\n\t\t} else if (this.state.sectionsLoaded < 2) { //change to a variable\r\n\t\t\tthis.setState({\r\n\t\t\t\tcolors: prevColors.concat(albumsColors),\r\n\t\t\t\tsectionsLoaded: prevSectionsLoaded + 1\r\n\t\t\t})\r\n\t\t}\r\n\t\t\t\r\n\t\tif (this.state.sectionsLoaded === 2) { //change to a variable\r\n\t\t\t\tpassUpColors(this.state.colors);\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {requestInfo, numColors, display, onHover} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<section className = 'Albums-Singles'>\r\n\t\t\t\r\n\t\t\t\t\t<AlbumsSection group='album' title='Albums' visible = {true} grabColors={this.grabColors} requestInfo={requestInfo} numColors={numColors} display={display} onHover={onHover}/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<AlbumsSection group='single' title='Singles and EPs' visible = {false} grabColors={this.grabColors} requestInfo={requestInfo} numColors={numColors} display={display} onHover={onHover}/>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t{/*<AlbumsSection group='appears_on' title='Appears On' visible = {false} grabColors={this.grabColors} requestInfo={requestInfo} numColors={numColors} display={display}/>*/}\r\n\t\t\t\t\t\t\r\n\t\t\t\t</section>\r\n\t\t)\r\n\t\r\n\t}\r\n}\r\n\r\nexport default AlbumsSingles;","import React, {Component} from 'react';\r\n\r\nclass Dropdown extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {visible: false || this.props.alwaysOpen}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tif (!this.props.alwaysOpen) {\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\tvisible: !prevState.visible\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {visible} = this.state;\r\n\t\tconst {title, labels, params, funct, tooltip, className, alwaysOpen, selected} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='Dropdown' onMouseEnter={this.toggleVisible} onMouseLeave={this.toggleVisible}>\r\n\t\t\t\r\n\t\t\t{alwaysOpen ? <p><b>{title}</b></p> : <div className={className}  title={tooltip}>{title}</div>}\r\n\t\t\t\r\n\t\t\t\t<ul className={'Dropdown-content ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{labels.map((label, i) => (\r\n\t\t\t\t\t\t<li key={i}>\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\tclassName={selected===params[i] ? 'Dropdown-option Selected' : 'Dropdown-option'} \r\n\t\t\t\t\t\t\tonClick={() => funct(params[i])}>{label}</button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Dropdown;","import React, {Component} from 'react';\r\nimport Dropdown from './Dropdown.js';\r\n\r\n// controls for the color palette on album images, sticky on left side\r\nclass AlbumOptions extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = ({\r\n\t\t\tnumColors: 5,\r\n\t\t\tdisplay: 0,\r\n\t\t\tonHover: 'Disappears'\r\n\t\t})\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tupdateNumColors = (num) => {\r\n\t\tthis.props.grabNumColors(num);\r\n\t\tthis.setState({numColors: num});\r\n\t}\r\n\t\r\n\tupdateDisplay = (option) => {\r\n\t\tthis.props.grabDisplay(option);\r\n\t\tthis.setState({display: option});\r\n\t}\r\n\t\r\n\tupdateOnHover = (option) => {\r\n\t\tthis.props.grabOnHover(option);\r\n\t\tthis.setState({onHover: option});\r\n\t}\r\n\t/*\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tconsole.log('props');\r\n\t\t\tconsole.log(this.props);\r\n\t\t}\r\n\t\tif (prevState !== this.state) {\r\n\t\t\tconsole.log('state');\r\n\t\t}\r\n\t}\r\n\t*/\r\n\trender() {\r\n\t\tconst numColorsOptions = [1,2,3,4,5,6,7];\r\n\t\t\r\n\t\tconst displayLabels = ['Diagonal', 'Vertical', 'Target'];\r\n\t\tconst displayParams = [0,1,2];\r\n\t\t\r\n\t\tconst onHoverLabels = ['Album Art', 'Color Palette'];\r\n\t\tconst onHoverParams = ['Disappears', 'Appears'];\r\n\t\t\r\n\t\tconst {numColors, display, onHover} = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='Options'>\r\n\t\t\t\r\n\t\t\t\t<Dropdown title='#' labels={numColorsOptions} params={numColorsOptions} funct={this.updateNumColors} tooltip='Number of colors per album' className='h2-button' selected={numColors}/>\r\n\t\t\t\t\r\n\t\t\t\t<Dropdown title='☐' labels={onHoverLabels} params={onHoverParams} funct={this.updateOnHover} tooltip='Display by default' className='h2-button' selected={onHover}/>\r\n\t\t\t\t\r\n\t\t\t\t<Dropdown title='//' labels={displayLabels} params={displayParams} funct={this.updateDisplay} tooltip='Album colors display style' className='h2-button' selected={display}/>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nexport default AlbumOptions;","import React, {Component} from 'react';\r\n\r\nclass Dot extends Component {\r\n\t\r\n\trender() {\r\n\t\tconst {bgColor} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='Dot' style={{'backgroundColor': bgColor}}></div>\r\n\t\t)\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Dot;","import React, {Component} from 'react';\r\n\r\nclass Slider extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.valueChange = this.valueChange.bind(this);\r\n\t\t\r\n\t\tthis.state = {value: this.props.selected};\r\n\t}\r\n\t\r\n\tvalueChange(event) {\r\n\t\tconst newValue = event.target.value;\r\n\t\tthis.setState({value: newValue});\r\n\t\tthis.props.funct(newValue);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet {value} = this.state;\r\n\t\tconst {title, min, max} = this.props;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className='Slider'>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<b>{title}</b>\r\n\t\t\t\t\t<input type='range' min={min} max={max} value={value} onChange={this.valueChange}/>\r\n\t\t\t\t\t{value}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default Slider;","import React, {Component} from 'react';\r\nimport Dot from './Dot.js';\r\nimport Dropdown from './Dropdown.js';\r\nimport Slider from './Slider.js';\r\n\r\n// displays all colors for an artist/playlist page\r\nclass Colors extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.updateNumBins = this.updateNumBins.bind(this);\r\n\t\tthis.updatePrimarySort = this.updatePrimarySort.bind(this);\r\n\t\tthis.updateSecondarySort = this.updateSecondarySort.bind(this);\r\n\t\t\r\n\t\tthis.state = ({\r\n\t\t\tnumBins: 14,\r\n\t\t\tprimarySort: 0,\r\n\t\t\tsecondarySort: 1\r\n\t\t})\r\n\t}\r\n\t\r\n\tsortColors = (colors, hsl, reverse) => {\r\n\t\tif (reverse) {\r\n\t\t\tcolors.sort((a,b) => a.hsl()[hsl] - b.hsl()[hsl]);\r\n\t\t} else {\r\n\t\t\tcolors.sort((a,b) => b.hsl()[hsl] - a.hsl()[hsl]);\r\n\t\t}\r\n\t}\r\n\r\n\tmakeBins = (colors, numBins, primarySort) => {\r\n\t\tlet bins = [[]];\r\n\t\tlet currentBin = bins[0];\r\n\t\t\r\n\t\tif (primarySort === 0) {\r\n\t\t\tbins[0] = colors.filter(color => {\r\n\t\t\t\treturn Number.isNaN(color.hsl()[0]); // new bin for hueless colors\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tcurrentBin = [];\r\n\t\t\tbins.push(currentBin);\r\n\t\t\tnumBins -= 1;\r\n\t\t\t\r\n\t\t\tcolors = colors.filter(color => {\r\n\t\t\t\treturn !Number.isNaN(color.hsl()[0]);\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\tthis.sortColors(colors, primarySort, false);\r\n\t\t\r\n\t\tconst max = colors[0].hsl()[primarySort];\r\n\t\tconst min = colors[colors.length-1].hsl()[primarySort];\r\n\t\t\r\n\t\tconst increment = (max-min) / numBins;\r\n\t\tlet threshold = max - increment;\r\n\t\t\r\n\t\tcolors.forEach(color => {\r\n\t\t\tif (color.hsl()[primarySort] > threshold) {\r\n\t\t\t\tcurrentBin.push(color);\r\n\t\t\t} else {\r\n\t\t\t\tthreshold -= increment;\r\n\t\t\t\tcurrentBin = [color];\r\n\t\t\t\tbins.push(currentBin);\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\treturn bins;\r\n\t}\r\n\t\r\n\tupdatePrimarySort(hsl) {\r\n\t\tthis.setState({primarySort: hsl})\r\n\t}\r\n\t\r\n\tupdateSecondarySort(hsl) {\r\n\t\tthis.setState({secondarySort: hsl})\r\n\t}\r\n\t\r\n\tupdateNumBins(num) {\r\n\t\tthis.setState({numBins: num})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tvar {colors} = this.props;\r\n\t\tvar {numBins, primarySort, secondarySort} = this.state;\r\n\t\tconst hsl = ['Hue', 'Saturation', 'Lightness'];\r\n\t\tconst gradientStyles = [\r\n\t\t\t{backgroundImage: 'linear-gradient(to right, white, magenta, purple, blue, green, yellow, orange, red)'},\r\n\t\t\t{backgroundImage: 'linear-gradient(to right, #47d8ff, gray)'},\r\n\t\t\t{backgroundImage: 'linear-gradient(to right, white, #47d8ff, black)'}\r\n\t\t]\r\n\r\n\t\tif (colors !== null) {\r\n\t\t\tlet bins = this.makeBins(colors, numBins, primarySort); \r\n\r\n\t\t\tbins.forEach(bin => {\r\n\t\t\t\tthis.sortColors(bin, secondarySort, false);\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<section className='Colors'>\r\n\t\t\t\t\t<h2>Colors</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Sorting-options'>\r\n\t\t\t\t\t\t<Slider title='Max Number of Columns: ' funct={this.updateNumBins} selected={numBins} min='1' max='20'/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='↔ Primary Sort:' labels={hsl} params={[0,1,2]} funct={this.updatePrimarySort} selected={primarySort} alwaysOpen={true}/><br/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='↕ Secondary Sort:' labels={hsl} params={[0,1,2]} funct={this.updateSecondarySort} selected={secondarySort} alwaysOpen={true}/><br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Gradient' style={gradientStyles[primarySort]}></div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Dots'>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{bins.map((bin, i) => (\r\n\t\t\t\t\t\t\t<div className='Bin' key={i}>\r\n\t\t\t\t\t\t\t\t\t{bin.map((color, j) => (<Dot key = {j} bgColor = {color}/>))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<section className='Colors'>\r\n\t\t\t\t\t<h2>Colors</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Sorting-options'>\r\n\t\t\t\t\t\t<Slider title=\"Max Number of Columns: \" funct={this.updateNumBins} selected={numBins} min='1' max='20'/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='↔ Primary Sort:' labels={hsl} params={[0,1,2]} funct={this.updatePrimarySort} selected={primarySort} alwaysOpen={true}/><br/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Dropdown className='p-button' title='↕ Secondary Sort:' labels={hsl} params={[0,1,2]} funct={this.updateSecondarySort} selected={secondarySort} alwaysOpen={true}/><br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Gradient' style={gradientStyles[primarySort]}></div>\r\n\t\t\t\t\r\n\t\t\t\t</section>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\t\r\n}\t\r\n\r\n\r\nexport default Colors;","import React, {Component} from 'react';\r\nimport AlbumsSingles from './AlbumsSingles.js';\r\nimport AlbumOptions from './AlbumOptions.js';\r\nimport Colors from './Colors.js';\r\n\r\n// contains all albums sections and the color component for the artist page\r\nclass ArtistBody extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = ({\r\n\t\t\tcolors: null,\r\n\t\t\tnumColors: 5,\r\n\t\t\tdisplay: 0,\r\n\t\t\tonHover: 'Disappears'\r\n\t\t})\r\n\t}\r\n\t\r\n\tgrabColors = (allColors) => {\r\n\t\tthis.setState({colors: allColors})\r\n\t}\r\n\t\r\n\tgrabNumColors = (num) => {\r\n\t\tthis.setState({numColors: num})\r\n\t}\r\n\t\r\n\tgrabDisplay = (option) => {\r\n\t\tthis.setState({display: option})\r\n\t}\r\n\t\r\n\tgrabOnHover = (option) => {\r\n\t\tthis.setState({onHover: option})\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst allColors = this.state.colors;\r\n\t\tconst {requestInfo} = this.props;\r\n\t\tconst {numColors, display, onHover} = this.state;\r\n\t\r\n\t\treturn (\r\n\t\t\t<div className='Body'>\r\n\t\t\t\t<AlbumOptions grabNumColors={this.grabNumColors} grabDisplay={this.grabDisplay} grabOnHover={this.grabOnHover}/>\r\n\t\t\t\t<AlbumsSingles grabColors={this.grabColors} requestInfo={requestInfo} numColors={numColors} display={display} onHover={onHover}/>\r\n\t\t\t\t<Colors colors={allColors}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t\t\t\r\n\t}\r\n}\r\n\r\nexport default ArtistBody;","import React, {Component} from 'react';\r\nimport AlbumOptions from './AlbumOptions.js';\r\nimport Album from './Album.js';\r\nimport Colors from './Colors.js';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass PlaylistPage extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.makeAlbums = this.makeAlbums.bind(this);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\talbums: {},\r\n\t\t\tnumColors: 5,\r\n\t\t\tdisplay: 0,\r\n\t\t\tonHover: 'Disappears',\r\n\t\t\tcolors: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null,\r\n\t\t\tvisible: true\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeAlbums() {\r\n\t\tlet {data} = this.state;\r\n\t\tlet albums = {};\r\n\t\t\r\n\t\tdata.tracks.items.forEach(song => {\r\n\t\t\tlet track = song.track;\r\n\t\t\t\r\n\t\t\tif (!track.is_local) {\r\n\t\t\t\tif (albums[track.album.id] != null) {\r\n\t\t\t\t\talbums[track.album.id].tracks.push({\r\n\t\t\t\t\t\tname: track.name,\r\n\t\t\t\t\t\turl: track.external_urls.spotify\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\talbums[track.album.id] = {\r\n\t\t\t\t\t\tname: track.album.name,\r\n\t\t\t\t\t\turl: track.album.external_urls.spotify,\r\n\t\t\t\t\t\timage: track.album.images[1],\r\n\t\t\t\t\t\tartists: track.album.artists,\r\n\t\t\t\t\t\ttracks: [{\r\n\t\t\t\t\t\t\tname: track.name,\r\n\t\t\t\t\t\t\turl: track.external_urls.spotify\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tthis.setState({albums: albums});\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tconst {playlistID, headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/playlists/'.concat(playlistID), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\trequestNextPage(url) {\r\n\t\tconst {headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch(url, {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState(prevState => {\t\t\t\t\r\n\t\t\t\tlet newData = prevState.data;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tnewData.tracks.items = prevState.data.tracks.items.concat(stuff.items);\r\n\t\t\t\tnewData.tracks.next = stuff.next;\r\n\t\t\t\t\r\n\t\t\t\treturn ({\r\n\t\t\t\t\tdata: newData,\r\n\t\t\t\t\talbums: {},\r\n\t\t\t\t\tcolors: null\r\n\t\t\t\t})\r\n\t\t\t}))\r\n\t\t\t.then(this.makeAlbums)\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tgrabColors = (albumColors) => {\r\n\t\tlet prevColors = this.state.colors;\t\r\n\t\t\r\n\t\tif (prevColors === null) {\r\n\t\t\tthis.setState({colors: albumColors})\r\n\t\t} else {\r\n\t\t\tthis.setState({colors: prevColors.concat(albumColors)})\r\n\t\t}\r\n\t}\r\n\t\r\n\tgrabNumColors = (num) => {\r\n\t\tthis.setState({numColors: num})\r\n\t}\r\n\t\r\n\tgrabDisplay = (option) => {\r\n\t\tthis.setState({display: option})\r\n\t}\r\n\t\r\n\tgrabOnHover = (option) => {\r\n\t\tthis.setState({onHover: option})\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\t\t\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({\r\n\t\t\t\tisLoaded: false,\r\n\t\t\t\tdata: null,\r\n\t\t\t\tcolors: null,\r\n\t\t\t\talbums: {},\r\n\t\t\t\terror: false,\r\n\t\t\t\terrorCode: null\r\n\t\t\t})\r\n\t\t} \r\n\t\t\r\n\t\tif (prevState.data !== this.state.data && this.state.data != null && this.state.isLoaded === false) {\r\n\t\t\tthis.makeAlbums();\r\n\t\t\tthis.setState({isLoaded: true})\r\n\t\t} \r\n\t\t\r\n\t\tif (prevState.numColors !== this.state.numColors) {\r\n\t\t\tthis.setState({colors: null})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender () {\r\n\t\tconst {isLoaded, data, colors, numColors, onHover, display, error, errorCode, visible} = this.state;\r\n\t\tconst albums = Object.values(this.state.albums);\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\r\n\t\t\t\t\t<header className='App-header'>\r\n\t\t\t\t\t\t<div className='Playlist-image'>\r\n\t\t\t\t\t\t\t<img src={data.images[0].url} alt={data.name}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='Playlist-info'>\r\n\t\t\t\t\t\t\t<h1><a href={data.external_urls.spotify}>{data.name}</a></h1>\r\n\t\t\t\t\t\t\t<p className='Playlist-description'>{data.description}</p>\r\n\t\t\t\t\t\t\t<p><a href={data.owner.external_urls.spotify}>{data.owner.display_name}</a></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className='Playlist-body'>\r\n\t\t\t\t\t\t<AlbumOptions grabNumColors={this.grabNumColors} grabDisplay={this.grabDisplay} grabOnHover={this.grabOnHover}/>\r\n\t\t\t\t\t\t<div className='Albums-Singles'>\r\n\t\t\t\t\t\t\t<button className='h2-button' onClick={this.toggleVisible}><h2>Albums</h2></button>\r\n\t\t\t\t\t\t\t<div className={'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{albums.map((album, i) => (\r\n\t\t\t\t\t\t\t\t\t<div className='Album' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Album \r\n\t\t\t\t\t\t\t\t\t\tname = {album.name}\r\n\t\t\t\t\t\t\t\t\t\timage = {album.image.url}\r\n\t\t\t\t\t\t\t\t\t\turl = {album.url}\r\n\t\t\t\t\t\t\t\t\t\tgrabColors = {this.grabColors}\r\n\t\t\t\t\t\t\t\t\t\tnumColors = {numColors}\r\n\t\t\t\t\t\t\t\t\t\tdisplay = {display}\r\n\t\t\t\t\t\t\t\t\t\tonHover = {onHover}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t{album.artists.map((artist, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={i}><Link to={'/paletteify/artist/' + artist.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{artist.name}</Link></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={i}>, <Link to={'/paletteify/artist/' + artist.id}> {artist.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\t{album.tracks.map((track, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<li key={i}><a href={track.url}>{track.name}</a></li>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{data.tracks.next !== null &&\r\n\t\t\t\t\t\t\t\t\t<button className='h2-button Album-small-button' onClick={() => this.requestNextPage(data.tracks.next)}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='Album'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='Image-replacement'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2>Load more</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>  </p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Colors colors={colors}/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t<header className='App-header Loading'>\r\n\t\t\t\t{error ? <h1>Error: {errorCode}</h1> : <h1>Loading...</h1>}\r\n\t\t\t\t\t{error && errorCode !== '401' && \r\n\t\t\t\t\t\t<p><a href='https://developer.spotify.com/documentation/web-api/'>Status code info here</a></p>}\r\n\t\t\t\t\t{error && errorCode === '401' && \r\n\t\t\t\t\t\t<Link to='/paletteify/'><p>Unauthorized: Try logging in again</p></Link>}\r\n\t\t\t</header>\r\n\t\t\t)\r\n\t\t} \r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\nexport default PlaylistPage;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Playlists extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terrorCode: null,\r\n\t\t\tvisible: true\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tvar headers = {'Authorization': 'Bearer '.concat(this.props.token)};\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/me/playlists', {headers})\r\n\t\t\t.then(this.props.handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff,\r\n\t\t\t\tisLoaded: true\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({isLoaded: false})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {data, isLoaded, error, errorCode, visible} = this.state;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button className='h2-button' onClick={this.toggleVisible}><h2>Playlists</h2></button>\r\n\t\t\t\t\t<div className={'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{data.items.map((item, i) => (\r\n\t\t\t\t\t\t\t<div key={i} className='Album-small'>\r\n\t\t\t\t\t\t\t\t<Link to={'/paletteify/playlist/' + item.id}>\r\n\t\t\t\t\t\t\t\t\t<img src={item.images[0].url} alt={item.name}/>\r\n\t\t\t\t\t\t\t\t\t<p><b>{item.name}</b></p>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\t\r\n\t\t\t\t\t{error ? <h2>Error: {errorCode}</h2> : <h2>Loading...</h2>}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\nclass TopArtists extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terrorCode: null,\r\n\t\t\tvisible: true\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tvisible: !prevState.visible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tvar headers = {'Authorization': 'Bearer '.concat(this.props.token)};\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/me/top/artists?time_range=medium_term', {headers})\r\n\t\t\t.then(this.props.handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff,\r\n\t\t\t\tisLoaded: true\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({isLoaded: false})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {data, isLoaded, error, errorCode, visible} = this.state;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button className='h2-button' onClick={this.toggleVisible}><h2>Top Artists</h2></button>\r\n\t\t\t\t\t<div className={'Albums ' + (visible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{data.items.map((item, i) => (\r\n\t\t\t\t\t\t\t<div key={i} className='Album-small'>\r\n\t\t\t\t\t\t\t\t<Link to={'/paletteify/artist/' + item.id}>\r\n\t\t\t\t\t\t\t\t\t<img src={item.images[0].url} alt={item.name}/>\r\n\t\t\t\t\t\t\t\t\t<p><b>{item.name}</b></p>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\t\r\n\t\t\t\t\t{error ? <h2>Error: {errorCode}</h2> : <h2>Loading...</h2>}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\nclass CurrentUserPage extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terrorCode: null,\r\n\t\t}\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tvar headers = {'Authorization': 'Bearer '.concat(this.props.token)};\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/me', {headers})\r\n\t\t\t.then(this.props.handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff,\r\n\t\t\t\tisLoaded: true\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({isLoaded: false})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {data, isLoaded, error, errorCode} = this.state;\r\n\t\tconst {token} = this.props;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<header className='App-header'>\t\r\n\t\t\t\t\t\t<div className='Playlist-image'>\r\n\t\t\t\t\t\t\t<img src={data.images[0].url} alt={data.name}/>\r\n\t\t\t\t\t\t</div>\t\t\t\r\n\t\t\t\t\t\t<div className='Playlist-info'>\r\n\t\t\t\t\t\t\t<a href={data.external_urls.spotify}><h1>{data.display_name}</h1></a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"Body User-body\">\r\n\t\t\t\t\t\t<Playlists token={token}/>\r\n\t\t\t\t\t\t<TopArtists token={token}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<header className='App-header Loading'>\t\r\n\t\t\t\t\t{error ? <h1>Error: {errorCode}</h1> : <h1>Loading...</h1>}\r\n\t\t\t\t\t{error && errorCode !== '401' && \r\n\t\t\t\t\t\t<p><a href='https://developer.spotify.com/documentation/web-api/'>Status code info here</a></p>}\r\n\t\t\t\t\t{error && errorCode === '401' && \r\n\t\t\t\t\t\t<Link to='/paletteify/'><p>Unauthorized: Try logging in again</p></Link>}\r\n\t\t\t\t</header>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default CurrentUserPage;","import React, {Component} from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\n\r\nclass SearchBox extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.queryChange = this.queryChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tquery: '',\r\n\t\t\tredirect: false\r\n\t\t\t};\r\n\t}\r\n\t\r\n\thandleSubmit(event) {\r\n\t\tthis.setState({redirect: true})\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\tqueryChange(event) {\r\n\t\tthis.setState({query: event.target.value});\r\n\t\tif (this.state.redirect) {\r\n\t\t\tthis.setState({redirect: false})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='Search-box'>\r\n\t\t\t\r\n\t\t\t\t{this.state.redirect && <Redirect to={'/paletteify/search/' + this.state.query}/>}\r\n\t\t\t\t\r\n\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<input type='text' placeholder='Search' value={this.state.query} onChange={this.queryChange}/>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<Link to={'/paletteify/search/' + this.state.query}>>></Link>\r\n\t\t\t\t\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SearchBox;","import React, {Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\n\r\n// displays results for a search for an artist or playlist\r\nclass SearchResults extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tisLoaded: false,\r\n\t\t\tdata: null,\r\n\t\t\terror: false,\r\n\t\t\terrorCode: null,\r\n\t\t\tartistsVisible: true,\r\n\t\t\tplaylistsVisible: true\r\n\t\t}\r\n\t}\r\n\t\r\n\ttoggleArtistsVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tartistsVisible: !prevState.artistsVisible\r\n\t\t}));\r\n\t}\r\n\t\r\n\ttogglePlaylistsVisible = () => {\r\n\t\tthis.setState(prevState => ({\r\n\t\t\tplaylistsVisible: !prevState.playlistsVisible\r\n\t\t}));\r\n\t}\r\n\t\r\n\tmakeRequest() {\r\n\t\tconst {query, headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch('https://api.spotify.com/v1/search?q='.concat(query).concat('&type=artist%2Cplaylist&limit=19'), {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState({ \r\n\t\t\t\tdata: stuff,\r\n\t\t\t\tisLoaded: true\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\trequestNextPage(url) {\r\n\t\tconst {headers, handleErrors} = this.props.requestInfo;\r\n\t\t\r\n\t\tfetch(url, {headers})\r\n\t\t\t.then(handleErrors)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(stuff => this.setState(prevState => {\t\t\t\t\r\n\t\t\t\tlet newData = prevState.data;\r\n\t\t\t\t\r\n\t\t\t\tif (stuff.artists !== undefined) {\r\n\t\t\t\t\tnewData.artists.items = newData.artists.items.concat(stuff.artists.items);\r\n\t\t\t\t\tnewData.artists.next = stuff.artists.next;\r\n\t\t\t\t} else if (stuff.playlists !== undefined) {\r\n\t\t\t\t\tnewData.playlists.items = newData.playlists.items.concat(stuff.playlists.items);\r\n\t\t\t\t\tnewData.playlists.next = stuff.playlists.next;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn ({data: newData})\r\n\t\t\t\t}))\r\n\t\t\t.catch(error => this.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorCode: error.message\r\n\t\t\t}));\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.makeRequest();\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (prevProps !== this.props) {\r\n\t\t\tthis.makeRequest();\r\n\t\t\tthis.setState({isLoaded: false})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {data, isLoaded, error, errorCode, artistsVisible, playlistsVisible} = this.state;\r\n\t\tconst {query} = this.props.requestInfo;\r\n\t\t\r\n\t\tif (isLoaded && !error) {\r\n\t\t\treturn (\t\t\t\r\n\t\t\t\t<div className='Search-results'>\r\n\t\t\t\t\r\n\t\t\t\t\t<header className=\"App-header Loading\">\r\n\t\t\t\t\t\t<h1>Search for \"{query}\"</h1>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<section className='Body'>\r\n\t\t\t\t\t\t<button className='h2-button' onClick={this.toggleArtistsVisible}><h2>Artists</h2></button>\r\n\t\t\t\t\t\t<div className={'Albums ' + (artistsVisible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{data.artists.items.length === 0 ? \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<p>No results found</p> :\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdata.artists.items.map((artist, i) => (\r\n\t\t\t\t\t\t\t\t\t<div className='Album-small' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={{pathname: '/paletteify/artist/'.concat(artist.id)}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{artist.images.length === 0 ? \r\n\t\t\t\t\t\t\t\t\t\t\t<div className='Image-replacement'/> :\r\n\t\t\t\t\t\t\t\t\t\t\t<img src={artist.images[0].url} alt={artist.name}/>}\r\n\t\t\t\t\t\t\t\t\t\t\t<p><b>{artist.name}</b></p>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{data.artists.next !== null &&\r\n\t\t\t\t\t\t\t\t\t<button className='h2-button Album-small-button' onClick={() => this.requestNextPage(data.artists.next)}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='Album-small'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='Image-replacement'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2>Load more</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>  </p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button className='h2-button' onClick={this.togglePlaylistsVisible}><h2>Playlists</h2></button>\r\n\t\t\t\t\t\t<div className={'Albums ' + (playlistsVisible ? 'visible' : 'hidden')}>\r\n\t\t\t\t\t\t\t{data.playlists.items.length === 0 ? \r\n\t\t\t\t\t\t\t\t<p>No results found</p> :\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tdata.playlists.items.map((playlist, i) => (\r\n\t\t\t\t\t\t\t\t\t<div className='Album-small' key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={{pathname: '/paletteify/playlist/'.concat(playlist.id)}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t{playlist.images.length === 0 ? \r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='Image-replacement'/> :\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={playlist.images[0].url} alt={playlist.name}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<p><b>{playlist.name}</b></p>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{data.playlists.next !== null &&\r\n\t\t\t\t\t\t\t\t\t<button className='h2-button Album-small-button' onClick={() => this.requestNextPage(data.playlists.next)}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='Album-small'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='Image-replacement'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2>Load more</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>  </p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='Search-results'>\r\n\t\t\t\t\r\n\t\t\t\t\t<header className=\"App-header Loading\">\r\n\t\t\t\t\t\t<h1>Search for \"{query}\"</h1>\r\n\t\t\t\t\t\t\t{error && <h1>Error: {errorCode}</h1>}\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{error && errorCode !== '401' && <h2><a href='https://developer.spotify.com/documentation/web-api/'>Status code info here</a></h2>}\r\n\t\t\t\t\t{error && errorCode === '401' && <Link to='/paletteify/'><h2>Unauthorized: Try logging in again</h2></Link>}\r\n\t\t\t\t\t{!error && <h2>Loading...</h2>}\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default SearchResults;","import React, {Component} from 'react';\nimport {BrowserRouter as Router, Switch, Route, Link, Redirect, useParams, useLocation} from 'react-router-dom';\n\nimport './App.css';\nimport ArtistHeader from './components/ArtistHeader.js';\nimport ArtistBody from './components/ArtistBody.js';\nimport PlaylistPage from './components/PlaylistPage.js';\nimport CurrentUserPage from './components/CurrentUserPage.js';\nimport SearchBox from './components/SearchBox.js';\nimport SearchResults from './components/SearchResults.js';\n\nvar l = window.location;\nconst clientId = 'a4e61050459f4f3cbac28ccd3826f37a';\nconst redirectUri = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') + '/paletteify/callback';\nvar scopes = ['playlist-read-private', 'user-top-read'];\n\nvar hash = l.hash // idk what this even is, move it into somewhere?\n\t.substring(1)\n\t.split('&')\n\t.reduce(function(initial, item) {\n\t\tif (item) {\n\t\t\tvar parts = item.split('=');\n\t\t\tinitial[parts[0]] = decodeURIComponent(parts[1]);\n\t\t}\n\t\treturn initial;\n\t}, {});\n\nl.hash = '';\n\n// menu on top of every page except login page\nclass Menu extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className='Menu'>\n\t\t\t\t<Link to='/paletteify/'><b>Paletteify</b></Link>\n\t\t\t\t<SearchBox/>\n\t\t\t\t<div className='Menu-right'>\n\t\t\t\t\t<Link to ='/paletteify/me'><b>My Profile</b></Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n// shows login button, and profile link + search when logged in\nfunction LoginPage(props) {\n\treturn (\n\t\t<header className='App-header Loading Cover'>\n\t\t\n\t\t\t\n\t\t\t\n\t\t\t<div className='Login-menu'>\n\t\t\t\t<a href={`https://accounts.spotify.com/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=token&scope=${scopes}`}>\n\t\t\t\t\t<h2 className='Login-button'>Login to Spotify</h2>\n\t\t\t\t</a>\n\t\t\t\t\n\t\t\t\t{props.token !== null && \n\t\t\t\t\t<div className='Menu'>\n\t\t\t\t\t\t<SearchBox/>\n\t\t\t\t\t\t<Link to ='/paletteify/me'>My Profile</Link>\n\t\t\t\t\t</div>}\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div className='App-description'>\n\t\t\t\t<h1 className='Bigboi'>Paletteify</h1>\n\t\t\t\t<p>Break down the color palettes <br/>of your favorite artists and playlists</p>\n\t\t\t</div>\n\t\t\t\t\n\t\t</header>\n\t)\n}\n\n// renders search results\nfunction DoSearchResults(props) {\n\tconst {query} = useParams();\n\tvar requestInfo = {\n\t\tquery: query,\n\t\tcountry: 'US',\n\t\theaders: {'Authorization': 'Bearer '.concat(props.token)},\n\t\thandleErrors: props.handleErrors\n\t}\n\t\t\n\treturn (\n\t\t<div>\n\t\t\t<SearchResults requestInfo={requestInfo}/>\n\t\t</div>\n\t)\n}\n\n// renders playlist page\nfunction DoPlaylistPage(props) { // not ideal way to do this i think\n\tconst {playlistID} = useParams();\n\tvar requestInfo = {\n\t\tplaylistID: playlistID,\n\t\tcountry: 'US',\n\t\theaders: {'Authorization': 'Bearer '.concat(props.token)},\n\t\thandleErrors: props.handleErrors\n\t}\n\t\t\n\treturn (\n\t\t<div>\n\t\t\t<PlaylistPage requestInfo={requestInfo}/>\n\t\t</div>\n\t)\n}\n\n// renders artist page\nfunction ArtistPage(props) {\n\tconst {artistID} = useParams();\n\tvar requestInfo = {\n\t\tartistID: artistID,\n\t\tcountry: 'US',\n\t\theaders: {'Authorization': 'Bearer '.concat(props.token)},\n\t\thandleErrors: props.handleErrors\n\t}\n\t\t\n\treturn (\n\t\t<div>\n\t\t\t<ArtistHeader requestInfo={requestInfo}/>\n\t\t\t<ArtistBody requestInfo={requestInfo}/>\n\t\t</div>\n\t)\n}\n\n// custom hook to get search queries from url\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\n// handles fresh page loads for gitpages\n// ex) redirect from paletteify.git.io/?p=/me to paletteify.git.io/me without 404 page\nfunction Redirector() { \n\tlet query = useQuery();\n\tlet page = query.get(\"p\");\n\t\n\tif (page !== null) {\n\t\treturn (\n\t\t\t<Redirect to={'/paletteify'.concat(page)} />\n\t\t)\n\t} else {\n\t\treturn null\n\t}\n}\n\n// app itself, handles routing, errors, and api tokens\nclass App extends Component {\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst token = localStorage.getItem('token');\n\t\t\n\t\tthis.state = ({token: token});\n\t}\n\t\n\tcomponentDidMount() {\n\t\tconst token = hash.access_token;\n\t\t\n\t\tif (token) {\n\t\t\tthis.setState({token: token});\n\t\t\tlocalStorage.setItem('token', token);\n\t\t}\n\t}\n\t\n\thandleErrors(response) {\n\t\tif (!response.ok) {\n\t\t\tthrow Error(response.status);\n\t\t}\n\t\treturn response;\n\t}\n\t\t\n\trender() {\n\t\tconst {token} = this.state;\n\t\t\n\t\treturn (\n\t\t\t<div className='App'>\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\n\t\t\t\t\t\t<Route path='/paletteify/artist/:artistID'>\n\t\t\t\t\t\t\t<Menu/>\n\t\t\t\t\t\t\t<ArtistPage token={token} handleErrors={this.handleErrors}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/playlist/:playlistID'>\n\t\t\t\t\t\t\t<Menu/>\n\t\t\t\t\t\t\t<DoPlaylistPage token={token} handleErrors={this.handleErrors}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/search/:query'>\n\t\t\t\t\t\t\t<Menu/>\n\t\t\t\t\t\t\t<DoSearchResults token={token} handleErrors={this.handleErrors}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/me'>\n\t\t\t\t\t\t\t<Menu/>\n\t\t\t\t\t\t\t<CurrentUserPage token={token} handleErrors={this.handleErrors}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/callback'>\n\t\t\t\t\t\t\t<Redirect to='/paletteify/me'/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path='/paletteify/'>\n\t\t\t\t\t\t\t<Redirector/>\n\t\t\t\t\t\t\t<LoginPage token={token}/>\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}